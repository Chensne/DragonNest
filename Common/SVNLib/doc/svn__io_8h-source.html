<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Subversion: svn_io.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
<h1>svn_io.h</h1><a href="svn__io_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**</span>
<a name="l00002"></a>00002 <span class="comment"> * @copyright</span>
<a name="l00003"></a>00003 <span class="comment"> * ====================================================================</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (c) 2000-2007 CollabNet.  All rights reserved.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This software is licensed as described in the file COPYING, which</span>
<a name="l00007"></a>00007 <span class="comment"> * you should have received as part of this distribution.  The terms</span>
<a name="l00008"></a>00008 <span class="comment"> * are also available at http://subversion.tigris.org/license-1.html.</span>
<a name="l00009"></a>00009 <span class="comment"> * If newer versions of this license are posted there, you may use a</span>
<a name="l00010"></a>00010 <span class="comment"> * newer version instead, at your option.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This software consists of voluntary contributions made by many</span>
<a name="l00013"></a>00013 <span class="comment"> * individuals.  For exact contribution history, see the revision</span>
<a name="l00014"></a>00014 <span class="comment"> * history and logs, available at http://subversion.tigris.org/.</span>
<a name="l00015"></a>00015 <span class="comment"> * ====================================================================</span>
<a name="l00016"></a>00016 <span class="comment"> * @endcopyright</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * @file svn_io.h</span>
<a name="l00019"></a>00019 <span class="comment"> * @brief General file I/O for Subversion</span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">/* ==================================================================== */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef SVN_IO_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define SVN_IO_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;apr.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;apr_pools.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;apr_file_io.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;apr_thread_proc.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="svn__types_8h.html" title="Subversion&amp;#39;s data types.">svn_types.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="svn__error_8h.html" title="Common exception handling for Subversion.">svn_error.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="svn__string_8h.html" title="Counted-length strings for Subversion, plus some C string goodies.">svn_string.h</a>"</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00039"></a>00039 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment"></span>
<a name="l00043"></a>00043 <span class="comment">/** Used as an argument when creating temporary files to indicate</span>
<a name="l00044"></a>00044 <span class="comment"> * when a file should be removed.</span>
<a name="l00045"></a>00045 <span class="comment"> *</span>
<a name="l00046"></a>00046 <span class="comment"> * @since New in 1.4.</span>
<a name="l00047"></a>00047 <span class="comment"> *</span>
<a name="l00048"></a>00048 <span class="comment"> * Not specifying any of these means no removal at all. */</span>
<a name="l00049"></a><a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d7884">00049</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d7884" title="Used as an argument when creating temporary files to indicate when a file should...">svn_io_file_del_t</a>
<a name="l00050"></a>00050 {<span class="comment"></span>
<a name="l00051"></a>00051 <span class="comment">  /** No deletion ever */</span>
<a name="l00052"></a><a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d788470268318a6e388419ae0e85ab7f7599c">00052</a>   <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d788470268318a6e388419ae0e85ab7f7599c" title="No deletion ever.">svn_io_file_del_none</a> = 0,<span class="comment"></span>
<a name="l00053"></a>00053 <span class="comment">  /** Remove when the file is closed */</span>
<a name="l00054"></a><a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d78846256344ca6b43868daa12365d75834d2">00054</a>   <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d78846256344ca6b43868daa12365d75834d2" title="Remove when the file is closed.">svn_io_file_del_on_close</a>,<span class="comment"></span>
<a name="l00055"></a>00055 <span class="comment">  /** Remove when the associated pool is cleared */</span>
<a name="l00056"></a><a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d78840f89c57067b563673ea1ec5605c908bd">00056</a>   <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d78840f89c57067b563673ea1ec5605c908bd" title="Remove when the associated pool is cleared.">svn_io_file_del_on_pool_cleanup</a>
<a name="l00057"></a>00057 } <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d7884" title="Used as an argument when creating temporary files to indicate when a file should...">svn_io_file_del_t</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment"></span>
<a name="l00061"></a>00061 <span class="comment">/** Represents the kind and special status of a directory entry.</span>
<a name="l00062"></a>00062 <span class="comment"> *</span>
<a name="l00063"></a>00063 <span class="comment"> * @since New in 1.3.</span>
<a name="l00064"></a>00064 <span class="comment"> */</span>
<a name="l00065"></a><a class="code" href="structsvn__io__dirent__t.html">00065</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structsvn__io__dirent__t.html" title="Represents the kind and special status of a directory entry.">svn_io_dirent_t</a> {<span class="comment"></span>
<a name="l00066"></a>00066 <span class="comment">  /** The kind of this entry. */</span>
<a name="l00067"></a><a class="code" href="structsvn__io__dirent__t.html#59909d8753fdf326d081cde8372443cb">00067</a>   <a class="code" href="svn__types_8h.html#c3ca125707a8ca1289c73236b5ce7f9a" title="The various types of nodes in the Subversion filesystem.">svn_node_kind_t</a> <a class="code" href="structsvn__io__dirent__t.html#59909d8753fdf326d081cde8372443cb" title="The kind of this entry.">kind</a>;<span class="comment"></span>
<a name="l00068"></a>00068 <span class="comment">  /** If @c kind is @c svn_node_file, whether this entry is a special file;</span>
<a name="l00069"></a>00069 <span class="comment">   * else FALSE.</span>
<a name="l00070"></a>00070 <span class="comment">   *</span>
<a name="l00071"></a>00071 <span class="comment">   * @see svn_io_check_special_path().</span>
<a name="l00072"></a>00072 <span class="comment">   */</span>
<a name="l00073"></a><a class="code" href="structsvn__io__dirent__t.html#d3b184b3fa42b284e35dab3d3fe97828">00073</a>   <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> <a class="code" href="structsvn__io__dirent__t.html#d3b184b3fa42b284e35dab3d3fe97828" title="If kind is svn_node_file, whether this entry is a special file; else FALSE.">special</a>;
<a name="l00074"></a>00074 } <a class="code" href="structsvn__io__dirent__t.html" title="Represents the kind and special status of a directory entry.">svn_io_dirent_t</a>;
<a name="l00075"></a>00075 <span class="comment"></span>
<a name="l00076"></a>00076 <span class="comment">/** Determine the @a kind of @a path.  @a path should be UTF-8 encoded.</span>
<a name="l00077"></a>00077 <span class="comment"> *</span>
<a name="l00078"></a>00078 <span class="comment"> * If @a path is a file, set @a *kind to @c svn_node_file.</span>
<a name="l00079"></a>00079 <span class="comment"> *</span>
<a name="l00080"></a>00080 <span class="comment"> * If @a path is a directory, set @a *kind to @c svn_node_dir.</span>
<a name="l00081"></a>00081 <span class="comment"> *</span>
<a name="l00082"></a>00082 <span class="comment"> * If @a path does not exist, set @a *kind to @c svn_node_none.</span>
<a name="l00083"></a>00083 <span class="comment"> *</span>
<a name="l00084"></a>00084 <span class="comment"> * If @a path exists but is none of the above, set @a *kind to @c</span>
<a name="l00085"></a>00085 <span class="comment"> * svn_node_unknown.</span>
<a name="l00086"></a>00086 <span class="comment"> *</span>
<a name="l00087"></a>00087 <span class="comment"> * If unable to determine @a path's kind, return an error, with @a *kind's</span>
<a name="l00088"></a>00088 <span class="comment"> * value undefined.</span>
<a name="l00089"></a>00089 <span class="comment"> *</span>
<a name="l00090"></a>00090 <span class="comment"> * Use @a pool for temporary allocations.</span>
<a name="l00091"></a>00091 <span class="comment"> *</span>
<a name="l00092"></a>00092 <span class="comment"> * @see svn_node_kind_t</span>
<a name="l00093"></a>00093 <span class="comment"> */</span>
<a name="l00094"></a>00094 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#31ee1827a2b62a2f4a122ef18e378b05" title="Determine the kind of path.">svn_io_check_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00095"></a>00095                                <a class="code" href="svn__types_8h.html#c3ca125707a8ca1289c73236b5ce7f9a" title="The various types of nodes in the Subversion filesystem.">svn_node_kind_t</a> *kind,
<a name="l00096"></a>00096                                apr_pool_t *pool);
<a name="l00097"></a>00097 <span class="comment"></span>
<a name="l00098"></a>00098 <span class="comment">/**</span>
<a name="l00099"></a>00099 <span class="comment"> * Like svn_io_check_path(), but also set *is_special to @c TRUE if</span>
<a name="l00100"></a>00100 <span class="comment"> * the path is not a normal file.</span>
<a name="l00101"></a>00101 <span class="comment"> *</span>
<a name="l00102"></a>00102 <span class="comment"> * @since New in 1.1.</span>
<a name="l00103"></a>00103 <span class="comment"> */</span>
<a name="l00104"></a>00104 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#0f8fdad8dc4fe854ef5b9971f8ab043e" title="Like svn_io_check_path(), but also set *is_special to TRUE if the path is not a normal...">svn_io_check_special_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00105"></a>00105                                        <a class="code" href="svn__types_8h.html#c3ca125707a8ca1289c73236b5ce7f9a" title="The various types of nodes in the Subversion filesystem.">svn_node_kind_t</a> *kind,
<a name="l00106"></a>00106                                        <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *is_special,
<a name="l00107"></a>00107                                        apr_pool_t *pool);
<a name="l00108"></a>00108 <span class="comment"></span>
<a name="l00109"></a>00109 <span class="comment">/** Like svn_io_check_path(), but resolve symlinks.  This returns the</span>
<a name="l00110"></a>00110 <span class="comment">    same varieties of @a kind as svn_io_check_path(). */</span>
<a name="l00111"></a>00111 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#47336875b45ac006d69aef58db4fb5bb" title="Like svn_io_check_path(), but resolve symlinks.">svn_io_check_resolved_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00112"></a>00112                                         <a class="code" href="svn__types_8h.html#c3ca125707a8ca1289c73236b5ce7f9a" title="The various types of nodes in the Subversion filesystem.">svn_node_kind_t</a> *kind,
<a name="l00113"></a>00113                                         apr_pool_t *pool);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment"></span>
<a name="l00116"></a>00116 <span class="comment">/** Open a new file (for reading and writing) with a unique name based on</span>
<a name="l00117"></a>00117 <span class="comment"> * utf-8 encoded @a path, in the same directory as @a path.  The file handle is</span>
<a name="l00118"></a>00118 <span class="comment"> * returned in @a *f, and the name, which ends with @a suffix, is returned</span>
<a name="l00119"></a>00119 <span class="comment"> * in @a *unique_name_p, also utf8-encoded.  Either @a f or @a unique_name_p</span>
<a name="l00120"></a>00120 <span class="comment"> * may be @c NULL.</span>
<a name="l00121"></a>00121 <span class="comment"> *</span>
<a name="l00122"></a>00122 <span class="comment"> * If @a delete_when is @c svn_io_file_del_on_close, then the @c APR_DELONCLOSE</span>
<a name="l00123"></a>00123 <span class="comment"> * flag will be used when opening the file.  The @c APR_BUFFERED flag will</span>
<a name="l00124"></a>00124 <span class="comment"> * always be used.</span>
<a name="l00125"></a>00125 <span class="comment"> *</span>
<a name="l00126"></a>00126 <span class="comment"> * The first attempt will just append @a suffix.  If the result is not</span>
<a name="l00127"></a>00127 <span class="comment"> * a unique name, then subsequent attempts will append a dot,</span>
<a name="l00128"></a>00128 <span class="comment"> * followed by an iteration number ("2", then "3", and so on),</span>
<a name="l00129"></a>00129 <span class="comment"> * followed by the suffix.  For example, if @a path is</span>
<a name="l00130"></a>00130 <span class="comment"> *</span>
<a name="l00131"></a>00131 <span class="comment"> *    tests/t1/A/D/G/pi</span>
<a name="l00132"></a>00132 <span class="comment"> *</span>
<a name="l00133"></a>00133 <span class="comment"> * then successive calls to</span>
<a name="l00134"></a>00134 <span class="comment"> *</span>
<a name="l00135"></a>00135 <span class="comment"> *    svn_io_open_unique_file2(&amp;f, &amp;unique_name, @a path, ".tmp", ..., pool)</span>
<a name="l00136"></a>00136 <span class="comment"> *</span>
<a name="l00137"></a>00137 <span class="comment"> * will open</span>
<a name="l00138"></a>00138 <span class="comment"> *</span>
<a name="l00139"></a>00139 <span class="comment"> *    tests/t1/A/D/G/pi.tmp</span>
<a name="l00140"></a>00140 <span class="comment"> *    tests/t1/A/D/G/pi.2.tmp</span>
<a name="l00141"></a>00141 <span class="comment"> *    tests/t1/A/D/G/pi.3.tmp</span>
<a name="l00142"></a>00142 <span class="comment"> *    tests/t1/A/D/G/pi.4.tmp</span>
<a name="l00143"></a>00143 <span class="comment"> *    tests/t1/A/D/G/pi.5.tmp</span>
<a name="l00144"></a>00144 <span class="comment"> *    ...</span>
<a name="l00145"></a>00145 <span class="comment"> *</span>
<a name="l00146"></a>00146 <span class="comment"> * Assuming @a suffix is non-empty, @a *unique_name_p will never be exactly</span>
<a name="l00147"></a>00147 <span class="comment"> * the same as @a path, even if @a path does not exist.</span>
<a name="l00148"></a>00148 <span class="comment"> *</span>
<a name="l00149"></a>00149 <span class="comment"> * It doesn't matter if @a path is a file or directory, the unique name will</span>
<a name="l00150"></a>00150 <span class="comment"> * be in @a path's parent either way.</span>
<a name="l00151"></a>00151 <span class="comment"> *</span>
<a name="l00152"></a>00152 <span class="comment"> * Allocate @a *f and @a *unique_name_p in @a pool.</span>
<a name="l00153"></a>00153 <span class="comment"> *</span>
<a name="l00154"></a>00154 <span class="comment"> * If no unique name can be found, @c SVN_ERR_IO_UNIQUE_NAMES_EXHAUSTED is</span>
<a name="l00155"></a>00155 <span class="comment"> * the error returned.</span>
<a name="l00156"></a>00156 <span class="comment"> *</span>
<a name="l00157"></a>00157 <span class="comment"> * Claim of Historical Inevitability: this function was written</span>
<a name="l00158"></a>00158 <span class="comment"> * because</span>
<a name="l00159"></a>00159 <span class="comment"> *</span>
<a name="l00160"></a>00160 <span class="comment"> *    - tmpnam() is not thread-safe.</span>
<a name="l00161"></a>00161 <span class="comment"> *    - tempname() tries standard system tmp areas first.</span>
<a name="l00162"></a>00162 <span class="comment"> *</span>
<a name="l00163"></a>00163 <span class="comment"> *</span>
<a name="l00164"></a>00164 <span class="comment"> * @since New in 1.4</span>
<a name="l00165"></a>00165 <span class="comment"> *</span>
<a name="l00166"></a>00166 <span class="comment"> */</span>
<a name="l00167"></a>00167 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#58df63b2898a8a2a7df988b2d633eb1a" title="Open a new file (for reading and writing) with a unique name based on utf-8 encoded...">svn_io_open_unique_file2</a>(apr_file_t **f,
<a name="l00168"></a>00168                                       <span class="keyword">const</span> <span class="keywordtype">char</span> **unique_name_p,
<a name="l00169"></a>00169                                       <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00170"></a>00170                                       <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix,
<a name="l00171"></a>00171                                       <a class="code" href="svn__io_8h.html#a78fffc81af962281813070c753d7884" title="Used as an argument when creating temporary files to indicate when a file should...">svn_io_file_del_t</a> delete_when,
<a name="l00172"></a>00172                                       apr_pool_t *pool);
<a name="l00173"></a>00173 <span class="comment"></span>
<a name="l00174"></a>00174 <span class="comment">/** Like svn_io_open_unique_file2, but can't delete on pool cleanup.</span>
<a name="l00175"></a>00175 <span class="comment"> *</span>
<a name="l00176"></a>00176 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.0 API</span>
<a name="l00177"></a>00177 <span class="comment"> *</span>
<a name="l00178"></a>00178 <span class="comment"> * @note In 1.4 the API was extended to require either @a f or</span>
<a name="l00179"></a>00179 <span class="comment"> *       @a unique_name_p (the other can be NULL).  Before that, both were</span>
<a name="l00180"></a>00180 <span class="comment"> *       required.</span>
<a name="l00181"></a>00181 <span class="comment"> *</span>
<a name="l00182"></a>00182 <span class="comment"> */</span>
<a name="l00183"></a>00183 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#2384857ad348105316edf6d1036d599f" title="Like svn_io_open_unique_file2, but can&amp;#39;t delete on pool cleanup.">svn_io_open_unique_file</a>(apr_file_t **f,
<a name="l00184"></a>00184                                      <span class="keyword">const</span> <span class="keywordtype">char</span> **unique_name_p,
<a name="l00185"></a>00185                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00186"></a>00186                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix,
<a name="l00187"></a>00187                                      <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> delete_on_close,
<a name="l00188"></a>00188                                      apr_pool_t *pool);
<a name="l00189"></a>00189 <span class="comment"></span>
<a name="l00190"></a>00190 <span class="comment">/**</span>
<a name="l00191"></a>00191 <span class="comment"> * Like svn_io_open_unique_file(), except that instead of creating a</span>
<a name="l00192"></a>00192 <span class="comment"> * file, a symlink is generated that references the path @a dest.</span>
<a name="l00193"></a>00193 <span class="comment"> *</span>
<a name="l00194"></a>00194 <span class="comment"> * @since New in 1.1.</span>
<a name="l00195"></a>00195 <span class="comment"> */</span>
<a name="l00196"></a>00196 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#d11db24f003c6f280e39d3c9675280dc" title="Like svn_io_open_unique_file(), except that instead of creating a file, a symlink...">svn_io_create_unique_link</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **unique_name_p,
<a name="l00197"></a>00197                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00198"></a>00198                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *dest,
<a name="l00199"></a>00199                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix,
<a name="l00200"></a>00200                                        apr_pool_t *pool);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="comment"></span>
<a name="l00203"></a>00203 <span class="comment">/**</span>
<a name="l00204"></a>00204 <span class="comment"> * Set @a *dest to the path that the symlink at @a path references.</span>
<a name="l00205"></a>00205 <span class="comment"> * Allocate the string from @a pool.</span>
<a name="l00206"></a>00206 <span class="comment"> *</span>
<a name="l00207"></a>00207 <span class="comment"> * @since New in 1.1.</span>
<a name="l00208"></a>00208 <span class="comment"> */</span>
<a name="l00209"></a>00209 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#94e184ae6677e8b0b4cae0ec145b7b67" title="Set *dest to the path that the symlink at path references.">svn_io_read_link</a>(<a class="code" href="structsvn__string__t.html" title="A simple counted string.">svn_string_t</a> **dest,
<a name="l00210"></a>00210                               <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00211"></a>00211                               apr_pool_t *pool);
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="comment"></span>
<a name="l00214"></a>00214 <span class="comment">/** Set @a *dir to a directory path (allocated in @a pool) deemed</span>
<a name="l00215"></a>00215 <span class="comment"> * usable for the creation of temporary files and subdirectories.</span>
<a name="l00216"></a>00216 <span class="comment"> */</span>
<a name="l00217"></a>00217 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#fbb4b86585411439008e934ede6f8b39" title="Set *dir to a directory path (allocated in pool) deemed usable for the creation of...">svn_io_temp_dir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **dir,
<a name="l00218"></a>00218                              apr_pool_t *pool);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="comment"></span>
<a name="l00221"></a>00221 <span class="comment">/** Copy @a src to @a dst atomically, in a "byte-for-byte" manner.</span>
<a name="l00222"></a>00222 <span class="comment"> * Overwrite @a dst if it exists, else create it.  Both @a src and @a dst</span>
<a name="l00223"></a>00223 <span class="comment"> * are utf8-encoded filenames.  If @a copy_perms is TRUE, set @a dst's</span>
<a name="l00224"></a>00224 <span class="comment"> * permissions to match those of @a src.</span>
<a name="l00225"></a>00225 <span class="comment"> */</span>
<a name="l00226"></a>00226 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#b4a3b25a089372c59aca6783a3a31595" title="Copy src to dst atomically, in a &amp;quot;byte-for-byte&amp;quot; manner.">svn_io_copy_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src,
<a name="l00227"></a>00227                               <span class="keyword">const</span> <span class="keywordtype">char</span> *dst,
<a name="l00228"></a>00228                               <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> copy_perms,
<a name="l00229"></a>00229                               apr_pool_t *pool);
<a name="l00230"></a>00230 <span class="comment"></span>
<a name="l00231"></a>00231 <span class="comment">/**</span>
<a name="l00232"></a>00232 <span class="comment"> * Copy symbolic link @a src to @a dst atomically.  Overwrite @a dst</span>
<a name="l00233"></a>00233 <span class="comment"> * if it exists, else create it.  Both @a src and @a dst are</span>
<a name="l00234"></a>00234 <span class="comment"> * utf8-encoded filenames.  After copying, the @a dst link will point</span>
<a name="l00235"></a>00235 <span class="comment"> * to the same thing @a src does.</span>
<a name="l00236"></a>00236 <span class="comment"> *</span>
<a name="l00237"></a>00237 <span class="comment"> * @since New in 1.1.</span>
<a name="l00238"></a>00238 <span class="comment"> */</span>
<a name="l00239"></a>00239 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#539dc0c726940a466a3bc2358d6b85d8" title="Copy symbolic link src to dst atomically.">svn_io_copy_link</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src,
<a name="l00240"></a>00240                               <span class="keyword">const</span> <span class="keywordtype">char</span> *dst,
<a name="l00241"></a>00241                               apr_pool_t *pool);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="comment"></span>
<a name="l00244"></a>00244 <span class="comment">/** Recursively copy directory @a src into @a dst_parent, as a new entry named</span>
<a name="l00245"></a>00245 <span class="comment"> * @a dst_basename.  If @a dst_basename already exists in @a dst_parent,</span>
<a name="l00246"></a>00246 <span class="comment"> * return error.  @a copy_perms will be passed through to svn_io_copy_file()</span>
<a name="l00247"></a>00247 <span class="comment"> * when any files are copied.  @a src, @a dst_parent, and @a dst_basename are</span>
<a name="l00248"></a>00248 <span class="comment"> * all utf8-encoded.</span>
<a name="l00249"></a>00249 <span class="comment"> *</span>
<a name="l00250"></a>00250 <span class="comment"> * If @a cancel_func is non-NULL, invoke it with @a cancel_baton at</span>
<a name="l00251"></a>00251 <span class="comment"> * various points during the operation.  If it returns any error</span>
<a name="l00252"></a>00252 <span class="comment"> * (typically @c SVN_ERR_CANCELLED), return that error immediately.</span>
<a name="l00253"></a>00253 <span class="comment"> */</span>
<a name="l00254"></a>00254 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#fcaeff1ea5e9ae65c8188678a1e042bf" title="Recursively copy directory src into dst_parent, as a new entry named dst_basename...">svn_io_copy_dir_recursively</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src,
<a name="l00255"></a>00255                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *dst_parent,
<a name="l00256"></a>00256                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *dst_basename,
<a name="l00257"></a>00257                                          <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> copy_perms,
<a name="l00258"></a>00258                                          <a class="code" href="svn__types_8h.html#ddaab83431a3d41b6c62e9d501cd5ecc" title="A user defined callback that subversion will call with a user defined baton to see...">svn_cancel_func_t</a> cancel_func,
<a name="l00259"></a>00259                                          <span class="keywordtype">void</span> *cancel_baton,
<a name="l00260"></a>00260                                          apr_pool_t *pool);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 <span class="comment"></span>
<a name="l00264"></a>00264 <span class="comment">/** Create directory @a path on the file system, creating intermediate</span>
<a name="l00265"></a>00265 <span class="comment"> * directories as required, like &lt;tt&gt;mkdir -p&lt;/tt&gt;.  Report no error if @a</span>
<a name="l00266"></a>00266 <span class="comment"> * path already exists.  @a path is utf8-encoded.</span>
<a name="l00267"></a>00267 <span class="comment"> *</span>
<a name="l00268"></a>00268 <span class="comment"> * This is essentially a wrapper for apr_dir_make_recursive(), passing</span>
<a name="l00269"></a>00269 <span class="comment"> * @c APR_OS_DEFAULT as the permissions.</span>
<a name="l00270"></a>00270 <span class="comment"> */</span>
<a name="l00271"></a>00271 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#0ef4d0c5c6a86ab48f515b4a31efad70" title="Create directory path on the file system, creating intermediate directories as required...">svn_io_make_dir_recursively</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, apr_pool_t *pool);
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 <span class="comment"></span>
<a name="l00274"></a>00274 <span class="comment">/** Set @a *is_empty_p to @c TRUE if directory @a path is empty, else to</span>
<a name="l00275"></a>00275 <span class="comment"> * @c FALSE if it is not empty.  @a path must be a directory, and is</span>
<a name="l00276"></a>00276 <span class="comment"> * utf8-encoded.  Use @a pool for temporary allocation.</span>
<a name="l00277"></a>00277 <span class="comment"> */</span>
<a name="l00278"></a>00278 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l00279"></a>00279 <a class="code" href="svn__io_8h.html#cea0b7ecaacd02da03a5cfaebe27067a" title="Set *is_empty_p to TRUE if directory path is empty, else to FALSE if it is not empty...">svn_io_dir_empty</a>(<a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *is_empty_p,
<a name="l00280"></a>00280                  <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00281"></a>00281                  apr_pool_t *pool);
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 <span class="comment"></span>
<a name="l00284"></a>00284 <span class="comment">/** Append @a src to @a dst.  @a dst will be appended to if it exists, else it</span>
<a name="l00285"></a>00285 <span class="comment"> * will be created.  Both @a src and @a dst are utf8-encoded.</span>
<a name="l00286"></a>00286 <span class="comment"> */</span>
<a name="l00287"></a>00287 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#967781b8e5991f3c72f125a333661d1b" title="Append src to dst.">svn_io_append_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src,
<a name="l00288"></a>00288                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *dst,
<a name="l00289"></a>00289                                 apr_pool_t *pool);
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="comment"></span>
<a name="l00292"></a>00292 <span class="comment">/** Make a file as read-only as the operating system allows.</span>
<a name="l00293"></a>00293 <span class="comment"> * @a path is the utf8-encoded path to the file. If @a ignore_enoent is</span>
<a name="l00294"></a>00294 <span class="comment"> * @c TRUE, don't fail if the target file doesn't exist.</span>
<a name="l00295"></a>00295 <span class="comment"> *</span>
<a name="l00296"></a>00296 <span class="comment"> * If @a path is a symlink, do nothing.</span>
<a name="l00297"></a>00297 <span class="comment"> *</span>
<a name="l00298"></a>00298 <span class="comment"> * @note If @a path is a directory, act on it as though it were a</span>
<a name="l00299"></a>00299 <span class="comment"> * file, as described above, but note that you probably don't want to</span>
<a name="l00300"></a>00300 <span class="comment"> * call this function on directories.  We have left it effective on</span>
<a name="l00301"></a>00301 <span class="comment"> * directories for compatibility reasons, but as its name implies, it</span>
<a name="l00302"></a>00302 <span class="comment"> * should be used only for files.</span>
<a name="l00303"></a>00303 <span class="comment"> */</span>
<a name="l00304"></a>00304 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#185f4ee690965e622aa1748339847ae5" title="Make a file as read-only as the operating system allows.">svn_io_set_file_read_only</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00305"></a>00305                                        <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> ignore_enoent,
<a name="l00306"></a>00306                                        apr_pool_t *pool);
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="comment"></span>
<a name="l00309"></a>00309 <span class="comment">/** Make a file as writable as the operating system allows.</span>
<a name="l00310"></a>00310 <span class="comment"> * @a path is the utf8-encoded path to the file.  If @a ignore_enoent is</span>
<a name="l00311"></a>00311 <span class="comment"> * @c TRUE, don't fail if the target file doesn't exist.</span>
<a name="l00312"></a>00312 <span class="comment"> * @warning On Unix this function will do the equivalent of chmod a+w path.</span>
<a name="l00313"></a>00313 <span class="comment"> * If this is not what you want you should not use this function, but rather</span>
<a name="l00314"></a>00314 <span class="comment"> * use apr_file_perms_set().</span>
<a name="l00315"></a>00315 <span class="comment"> *</span>
<a name="l00316"></a>00316 <span class="comment"> * If @a path is a symlink, do nothing.</span>
<a name="l00317"></a>00317 <span class="comment"> *</span>
<a name="l00318"></a>00318 <span class="comment"> * @note If @a path is a directory, act on it as though it were a</span>
<a name="l00319"></a>00319 <span class="comment"> * file, as described above, but note that you probably don't want to</span>
<a name="l00320"></a>00320 <span class="comment"> * call this function on directories.  We have left it effective on</span>
<a name="l00321"></a>00321 <span class="comment"> * directories for compatibility reasons, but as its name implies, it</span>
<a name="l00322"></a>00322 <span class="comment"> * should be used only for files.</span>
<a name="l00323"></a>00323 <span class="comment"> */</span>
<a name="l00324"></a>00324 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#c407a16bc12b63d2e57a3e2375490ad5" title="Make a file as writable as the operating system allows.">svn_io_set_file_read_write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00325"></a>00325                                         <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> ignore_enoent,
<a name="l00326"></a>00326                                         apr_pool_t *pool);
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="comment"></span>
<a name="l00329"></a>00329 <span class="comment">/** Similar to svn_io_set_file_read_* functions.</span>
<a name="l00330"></a>00330 <span class="comment"> * Change the read-write permissions of a file.</span>
<a name="l00331"></a>00331 <span class="comment"> * @since New in 1.1.</span>
<a name="l00332"></a>00332 <span class="comment"> *</span>
<a name="l00333"></a>00333 <span class="comment"> * When making @a path read-write on operating systems with unix style</span>
<a name="l00334"></a>00334 <span class="comment"> * permissions, set the permissions on @a path to the permissions that</span>
<a name="l00335"></a>00335 <span class="comment"> * are set when a new file is created (effectively honoring the user's</span>
<a name="l00336"></a>00336 <span class="comment"> * umask).</span>
<a name="l00337"></a>00337 <span class="comment"> *</span>
<a name="l00338"></a>00338 <span class="comment"> * When making the file read-only on operating systems with unix style</span>
<a name="l00339"></a>00339 <span class="comment"> * permissions, remove all write permissions.</span>
<a name="l00340"></a>00340 <span class="comment"> *</span>
<a name="l00341"></a>00341 <span class="comment"> * On other operating systems, toggle the file's "writability" as much as</span>
<a name="l00342"></a>00342 <span class="comment"> * the operating system allows.</span>
<a name="l00343"></a>00343 <span class="comment"> *</span>
<a name="l00344"></a>00344 <span class="comment"> * @a path is the utf8-encoded path to the file.  If @a enable_write</span>
<a name="l00345"></a>00345 <span class="comment"> * is @c TRUE, then make the file read-write.  If @c FALSE, make it</span>
<a name="l00346"></a>00346 <span class="comment"> * read-only.  If @a ignore_enoent is @c TRUE, don't fail if the target</span>
<a name="l00347"></a>00347 <span class="comment"> * file doesn't exist.</span>
<a name="l00348"></a>00348 <span class="comment"> *</span>
<a name="l00349"></a>00349 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.3 API.</span>
<a name="l00350"></a>00350 <span class="comment"> */</span>
<a name="l00351"></a>00351 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#02cd461341834d955e258a70def4f56f" title="Similar to svn_io_set_file_read_* functions.">svn_io_set_file_read_write_carefully</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00352"></a>00352                                                   <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> enable_write,
<a name="l00353"></a>00353                                                   <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> ignore_enoent,
<a name="l00354"></a>00354                                                   apr_pool_t *pool);
<a name="l00355"></a>00355 <span class="comment"></span>
<a name="l00356"></a>00356 <span class="comment">/** Set @a path's "executability" (but do nothing if it is a symlink).</span>
<a name="l00357"></a>00357 <span class="comment"> *</span>
<a name="l00358"></a>00358 <span class="comment"> * @a path is the utf8-encoded path to the file.  If @a executable</span>
<a name="l00359"></a>00359 <span class="comment"> * is @c TRUE, then make the file executable.  If @c FALSE, make it</span>
<a name="l00360"></a>00360 <span class="comment"> * non-executable.  If @a ignore_enoent is @c TRUE, don't fail if the target</span>
<a name="l00361"></a>00361 <span class="comment"> * file doesn't exist.</span>
<a name="l00362"></a>00362 <span class="comment"> *</span>
<a name="l00363"></a>00363 <span class="comment"> * When making the file executable on operating systems with unix style</span>
<a name="l00364"></a>00364 <span class="comment"> * permissions, never add an execute permission where there is not</span>
<a name="l00365"></a>00365 <span class="comment"> * already a read permission: that is, only make the file executable</span>
<a name="l00366"></a>00366 <span class="comment"> * for the user, group or world if the corresponding read permission</span>
<a name="l00367"></a>00367 <span class="comment"> * is already set for user, group or world.</span>
<a name="l00368"></a>00368 <span class="comment"> *</span>
<a name="l00369"></a>00369 <span class="comment"> * When making the file non-executable on operating systems with unix style</span>
<a name="l00370"></a>00370 <span class="comment"> * permissions, remove all execute permissions.</span>
<a name="l00371"></a>00371 <span class="comment"> *</span>
<a name="l00372"></a>00372 <span class="comment"> * On other operating systems, toggle the file's "executability" as much as</span>
<a name="l00373"></a>00373 <span class="comment"> * the operating system allows.</span>
<a name="l00374"></a>00374 <span class="comment"> *</span>
<a name="l00375"></a>00375 <span class="comment"> * @note If @a path is a directory, act on it as though it were a</span>
<a name="l00376"></a>00376 <span class="comment"> * file, as described above, but note that you probably don't want to</span>
<a name="l00377"></a>00377 <span class="comment"> * call this function on directories.  We have left it effective on</span>
<a name="l00378"></a>00378 <span class="comment"> * directories for compatibility reasons, but as its name implies, it</span>
<a name="l00379"></a>00379 <span class="comment"> * should be used only for files.</span>
<a name="l00380"></a>00380 <span class="comment"> */</span>
<a name="l00381"></a>00381 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#358a735a173b43509cf4060b73930cf5" title="Set path&amp;#39;s &amp;quot;executability&amp;quot; (but do nothing if it is a symlink).">svn_io_set_file_executable</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00382"></a>00382                                         <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> executable,
<a name="l00383"></a>00383                                         <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> ignore_enoent,
<a name="l00384"></a>00384                                         apr_pool_t *pool);
<a name="l00385"></a>00385 <span class="comment"></span>
<a name="l00386"></a>00386 <span class="comment">/** Determine whether a file is executable by the current user.</span>
<a name="l00387"></a>00387 <span class="comment"> * Set @a *executable to @c TRUE if the file @a path is executable by the</span>
<a name="l00388"></a>00388 <span class="comment"> * current user, otherwise set it to @c FALSE.</span>
<a name="l00389"></a>00389 <span class="comment"> *</span>
<a name="l00390"></a>00390 <span class="comment"> * On Windows and on platforms without userids, always returns @c FALSE.</span>
<a name="l00391"></a>00391 <span class="comment"> */</span>
<a name="l00392"></a>00392 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#2cb981f75792c99480f93b83ae9265d2" title="Determine whether a file is executable by the current user.">svn_io_is_file_executable</a>(<a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *executable,
<a name="l00393"></a>00393                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00394"></a>00394                                        apr_pool_t *pool);
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment"></span>
<a name="l00397"></a>00397 <span class="comment">/** Read a line from @a file into @a buf, but not exceeding @a *limit bytes.</span>
<a name="l00398"></a>00398 <span class="comment"> * Does not include newline, instead '\\0' is put there.</span>
<a name="l00399"></a>00399 <span class="comment"> * Length (as in strlen) is returned in @a *limit.</span>
<a name="l00400"></a>00400 <span class="comment"> * @a buf should be pre-allocated.</span>
<a name="l00401"></a>00401 <span class="comment"> * @a file should be already opened.</span>
<a name="l00402"></a>00402 <span class="comment"> *</span>
<a name="l00403"></a>00403 <span class="comment"> * When the file is out of lines, @c APR_EOF will be returned.</span>
<a name="l00404"></a>00404 <span class="comment"> */</span>
<a name="l00405"></a>00405 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l00406"></a>00406 <a class="code" href="svn__io_8h.html#b3f73a4554d78dbbc3d9e0f29943380e" title="Read a line from file into buf, but not exceeding *limit bytes.">svn_io_read_length_line</a>(apr_file_t *file, <span class="keywordtype">char</span> *buf, apr_size_t *limit,
<a name="l00407"></a>00407                         apr_pool_t *pool);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="comment"></span>
<a name="l00410"></a>00410 <span class="comment">/** Set @a *apr_time to the time of last modification of the contents of the</span>
<a name="l00411"></a>00411 <span class="comment"> * file @a path.  @a path is utf8-encoded.</span>
<a name="l00412"></a>00412 <span class="comment"> *</span>
<a name="l00413"></a>00413 <span class="comment"> * @note This is the APR mtime which corresponds to the traditional mtime</span>
<a name="l00414"></a>00414 <span class="comment"> * on Unix, and the last write time on Windows.</span>
<a name="l00415"></a>00415 <span class="comment"> */</span>
<a name="l00416"></a>00416 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#e9ed0a769c24087316ebcc868fb559a0" title="Set *apr_time to the time of last modification of the contents of the file path.">svn_io_file_affected_time</a>(apr_time_t *apr_time,
<a name="l00417"></a>00417                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00418"></a>00418                                        apr_pool_t *pool);
<a name="l00419"></a>00419 <span class="comment"></span>
<a name="l00420"></a>00420 <span class="comment">/** Set the timestamp of file @a path to @a apr_time.  @a path is</span>
<a name="l00421"></a>00421 <span class="comment"> *  utf8-encoded.</span>
<a name="l00422"></a>00422 <span class="comment"> *</span>
<a name="l00423"></a>00423 <span class="comment"> * @note This is the APR mtime which corresponds to the traditional mtime</span>
<a name="l00424"></a>00424 <span class="comment"> * on Unix, and the last write time on Windows.</span>
<a name="l00425"></a>00425 <span class="comment"> */</span>
<a name="l00426"></a>00426 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#474cc5427ee6e900ff8c96559e368fe6" title="Set the timestamp of file path to apr_time.">svn_io_set_file_affected_time</a>(apr_time_t apr_time,
<a name="l00427"></a>00427                                            <span class="keyword">const</span> <span class="keywordtype">char</span> *path,
<a name="l00428"></a>00428                                            apr_pool_t *pool);
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="comment"></span>
<a name="l00432"></a>00432 <span class="comment">/** Set @a *different_p to non-zero if @a file1 and @a file2 have different</span>
<a name="l00433"></a>00433 <span class="comment"> * sizes, else set to zero.  Both @a file1 and @a file2 are utf8-encoded.</span>
<a name="l00434"></a>00434 <span class="comment"> *</span>
<a name="l00435"></a>00435 <span class="comment"> * Setting @a *different_p to zero does not mean the files definitely</span>
<a name="l00436"></a>00436 <span class="comment"> * have the same size, it merely means that the sizes are not</span>
<a name="l00437"></a>00437 <span class="comment"> * definitely different.  That is, if the size of one or both files</span>
<a name="l00438"></a>00438 <span class="comment"> * cannot be determined, then the sizes are not known to be different,</span>
<a name="l00439"></a>00439 <span class="comment"> * so @a *different_p is set to 0.</span>
<a name="l00440"></a>00440 <span class="comment"> */</span>
<a name="l00441"></a>00441 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#759d9be046832ba2e1f8d5408a7023d1" title="Set *different_p to non-zero if file1 and file2 have different sizes, else set to...">svn_io_filesizes_different_p</a>(<a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *different_p,
<a name="l00442"></a>00442                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *file1,
<a name="l00443"></a>00443                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *file2,
<a name="l00444"></a>00444                                           apr_pool_t *pool);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="comment"></span>
<a name="l00447"></a>00447 <span class="comment">/** Put the md5 checksum of @a file into @a digest.</span>
<a name="l00448"></a>00448 <span class="comment"> * @a digest points to @c APR_MD5_DIGESTSIZE bytes of storage.</span>
<a name="l00449"></a>00449 <span class="comment"> * Use @a pool only for temporary allocations.</span>
<a name="l00450"></a>00450 <span class="comment"> */</span>
<a name="l00451"></a>00451 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#d7384374afef049adcc8485de4083186" title="Put the md5 checksum of file into digest.">svn_io_file_checksum</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> digest[],
<a name="l00452"></a>00452                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *file,
<a name="l00453"></a>00453                                   apr_pool_t *pool);
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 <span class="comment"></span>
<a name="l00456"></a>00456 <span class="comment">/** Set @a *same to TRUE if @a file1 and @a file2 have the same</span>
<a name="l00457"></a>00457 <span class="comment"> * contents, else set it to FALSE.  Use @a pool for temporary allocations.</span>
<a name="l00458"></a>00458 <span class="comment"> */</span>
<a name="l00459"></a>00459 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#c3ddb92f73a78796c75a0790bc9cf727" title="Set *same to TRUE if file1 and file2 have the same contents, else set it to FALSE...">svn_io_files_contents_same_p</a>(<a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *same,
<a name="l00460"></a>00460                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *file1,
<a name="l00461"></a>00461                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *file2,
<a name="l00462"></a>00462                                           apr_pool_t *pool);
<a name="l00463"></a>00463 <span class="comment"></span>
<a name="l00464"></a>00464 <span class="comment">/** Create file at utf8-encoded @a file with contents @a contents.</span>
<a name="l00465"></a>00465 <span class="comment"> * @a file must not already exist.</span>
<a name="l00466"></a>00466 <span class="comment"> * Use @a pool for memory allocations.</span>
<a name="l00467"></a>00467 <span class="comment"> */</span>
<a name="l00468"></a>00468 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#36cd10dc8fb91f40c0df79edf8fc3a18" title="Create file at utf8-encoded file with contents contents.">svn_io_file_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *file,
<a name="l00469"></a>00469                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *contents,
<a name="l00470"></a>00470                                 apr_pool_t *pool);
<a name="l00471"></a>00471 <span class="comment"></span>
<a name="l00472"></a>00472 <span class="comment">/**</span>
<a name="l00473"></a>00473 <span class="comment"> * Lock file at @a lock_file. If @a exclusive is TRUE,</span>
<a name="l00474"></a>00474 <span class="comment"> * obtain exclusive lock, otherwise obtain shared lock.</span>
<a name="l00475"></a>00475 <span class="comment"> * Lock will be automatically released when @a pool is cleared or destroyed.</span>
<a name="l00476"></a>00476 <span class="comment"> * Use @a pool for memory allocations.</span>
<a name="l00477"></a>00477 <span class="comment"> *</span>
<a name="l00478"></a>00478 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.0 API.</span>
<a name="l00479"></a>00479 <span class="comment"> */</span>
<a name="l00480"></a>00480 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#98ada015dbb0b5d467375edba000dd4b" title="Lock file at lock_file.">svn_io_file_lock</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *lock_file,
<a name="l00481"></a>00481                               <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> exclusive,
<a name="l00482"></a>00482                               apr_pool_t *pool);
<a name="l00483"></a>00483 <span class="comment"></span>
<a name="l00484"></a>00484 <span class="comment">/**</span>
<a name="l00485"></a>00485 <span class="comment"> * Lock file at @a lock_file. If @a exclusive is TRUE,</span>
<a name="l00486"></a>00486 <span class="comment"> * obtain exclusive lock, otherwise obtain shared lock.</span>
<a name="l00487"></a>00487 <span class="comment"> *</span>
<a name="l00488"></a>00488 <span class="comment"> * If @a nonblocking is TRUE, do not wait for the lock if it</span>
<a name="l00489"></a>00489 <span class="comment"> * is not available: throw an error instead.</span>
<a name="l00490"></a>00490 <span class="comment"> *</span>
<a name="l00491"></a>00491 <span class="comment"> * Lock will be automatically released when @a pool is cleared or destroyed.</span>
<a name="l00492"></a>00492 <span class="comment"> * Use @a pool for memory allocations.</span>
<a name="l00493"></a>00493 <span class="comment"> *</span>
<a name="l00494"></a>00494 <span class="comment"> * @since New in 1.1.</span>
<a name="l00495"></a>00495 <span class="comment"> */</span>
<a name="l00496"></a>00496 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#256b06e01a023d03c47e8a29f8a0344a" title="Lock file at lock_file.">svn_io_file_lock2</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *lock_file,
<a name="l00497"></a>00497                                <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> exclusive,
<a name="l00498"></a>00498                                <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> nonblocking,
<a name="l00499"></a>00499                                apr_pool_t *pool);<span class="comment"></span>
<a name="l00500"></a>00500 <span class="comment">/**</span>
<a name="l00501"></a>00501 <span class="comment"> * Flush any unwritten data from @a file to disk.  Use @a pool for</span>
<a name="l00502"></a>00502 <span class="comment"> *  memory allocations.</span>
<a name="l00503"></a>00503 <span class="comment"> *</span>
<a name="l00504"></a>00504 <span class="comment"> * @since New in 1.1.</span>
<a name="l00505"></a>00505 <span class="comment"> */</span>
<a name="l00506"></a>00506 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#1738477996c854ac51fbd77cccaddfb5" title="Flush any unwritten data from file to disk.">svn_io_file_flush_to_disk</a>(apr_file_t *file,
<a name="l00507"></a>00507                                        apr_pool_t *pool);
<a name="l00508"></a>00508 <span class="comment"></span>
<a name="l00509"></a>00509 <span class="comment">/** Copy file @a file from location @a src_path to location @a dest_path.</span>
<a name="l00510"></a>00510 <span class="comment"> * Use @a pool for memory allocations.</span>
<a name="l00511"></a>00511 <span class="comment"> */</span>
<a name="l00512"></a>00512 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#e6c6d960b1f742e2c00f8d7dd6ea1c5d" title="Copy file file from location src_path to location dest_path.">svn_io_dir_file_copy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src_path,
<a name="l00513"></a>00513                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *dest_path,
<a name="l00514"></a>00514                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *file,
<a name="l00515"></a>00515                                   apr_pool_t *pool);
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 <span class="comment"></span>
<a name="l00518"></a>00518 <span class="comment">/** Generic byte-streams</span>
<a name="l00519"></a>00519 <span class="comment"> *</span>
<a name="l00520"></a>00520 <span class="comment"> * @defgroup svn_io_byte_streams Generic byte streams</span>
<a name="l00521"></a>00521 <span class="comment"> * @{</span>
<a name="l00522"></a>00522 <span class="comment"> */</span>
<a name="l00523"></a>00523 <span class="comment"></span>
<a name="l00524"></a>00524 <span class="comment">/** An abstract stream of bytes--either incoming or outgoing or both.</span>
<a name="l00525"></a>00525 <span class="comment"> *</span>
<a name="l00526"></a>00526 <span class="comment"> * The creator of a stream sets functions to handle read and write.</span>
<a name="l00527"></a>00527 <span class="comment"> * Both of these handlers accept a baton whose value is determined at</span>
<a name="l00528"></a>00528 <span class="comment"> * stream creation time; this baton can point to a structure</span>
<a name="l00529"></a>00529 <span class="comment"> * containing data associated with the stream.  If a caller attempts</span>
<a name="l00530"></a>00530 <span class="comment"> * to invoke a handler which has not been set, it will generate a</span>
<a name="l00531"></a>00531 <span class="comment"> * runtime assertion failure.  The creator can also set a handler for</span>
<a name="l00532"></a>00532 <span class="comment"> * close requests so that it can flush buffered data or whatever;</span>
<a name="l00533"></a>00533 <span class="comment"> * if a close handler is not specified, a close request on the stream</span>
<a name="l00534"></a>00534 <span class="comment"> * will simply be ignored.  Note that svn_stream_close() does not</span>
<a name="l00535"></a>00535 <span class="comment"> * deallocate the memory used to allocate the stream structure; free</span>
<a name="l00536"></a>00536 <span class="comment"> * the pool you created the stream in to free that memory.</span>
<a name="l00537"></a>00537 <span class="comment"> *</span>
<a name="l00538"></a>00538 <span class="comment"> * The read and write handlers accept length arguments via pointer.</span>
<a name="l00539"></a>00539 <span class="comment"> * On entry to the handler, the pointed-to value should be the amount</span>
<a name="l00540"></a>00540 <span class="comment"> * of data which can be read or the amount of data to write.  When the</span>
<a name="l00541"></a>00541 <span class="comment"> * handler returns, the value is reset to the amount of data actually</span>
<a name="l00542"></a>00542 <span class="comment"> * read or written.  Handlers are obliged to complete a read or write</span>
<a name="l00543"></a>00543 <span class="comment"> * to the maximum extent possible; thus, a short read with no</span>
<a name="l00544"></a>00544 <span class="comment"> * associated error implies the end of the input stream, and a short</span>
<a name="l00545"></a>00545 <span class="comment"> * write should never occur without an associated error.</span>
<a name="l00546"></a>00546 <span class="comment"> */</span>
<a name="l00547"></a><a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af">00547</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a>;
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 
<a name="l00550"></a>00550 <span class="comment"></span>
<a name="l00551"></a>00551 <span class="comment">/** Read handler function for a generic stream.  @see svn_stream_t. */</span>
<a name="l00552"></a><a class="code" href="group__svn__io__byte__streams.html#g9a8939b5258b070a48aa1e0cd154909a">00552</a> <span class="keyword">typedef</span> <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *(*svn_read_fn_t)(<span class="keywordtype">void</span> *baton,
<a name="l00553"></a>00553                                       <span class="keywordtype">char</span> *buffer,
<a name="l00554"></a>00554                                       apr_size_t *len);
<a name="l00555"></a>00555 <span class="comment"></span>
<a name="l00556"></a>00556 <span class="comment">/** Write handler function for a generic stream.  @see svn_stream_t. */</span>
<a name="l00557"></a><a class="code" href="group__svn__io__byte__streams.html#ga79398b116a9209eb3a79947a6066f54">00557</a> <span class="keyword">typedef</span> <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *(*svn_write_fn_t)(<span class="keywordtype">void</span> *baton,
<a name="l00558"></a>00558                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *data,
<a name="l00559"></a>00559                                        apr_size_t *len);
<a name="l00560"></a>00560 <span class="comment"></span>
<a name="l00561"></a>00561 <span class="comment">/** Close handler function for a generic stream.  @see svn_stream_t. */</span>
<a name="l00562"></a><a class="code" href="group__svn__io__byte__streams.html#g576facc62f51e98c14cb440df1e58cd9">00562</a> <span class="keyword">typedef</span> <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *(*svn_close_fn_t)(<span class="keywordtype">void</span> *baton);
<a name="l00563"></a>00563 
<a name="l00564"></a>00564 <span class="comment"></span>
<a name="l00565"></a>00565 <span class="comment">/** Create a generic stream.  @see svn_stream_t. */</span>
<a name="l00566"></a>00566 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#gdc3e897290c9479c6b903876d18dc87c" title="Create a generic stream.">svn_stream_create</a>(<span class="keywordtype">void</span> *baton, apr_pool_t *pool);
<a name="l00567"></a>00567 <span class="comment"></span>
<a name="l00568"></a>00568 <span class="comment">/** Set @a stream's baton to @a baton */</span>
<a name="l00569"></a>00569 <span class="keywordtype">void</span> <a class="code" href="group__svn__io__byte__streams.html#g0ff601f7fb4a7c8c92770edd7376b052" title="Set stream&amp;#39;s baton to baton.">svn_stream_set_baton</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <span class="keywordtype">void</span> *baton);
<a name="l00570"></a>00570 <span class="comment"></span>
<a name="l00571"></a>00571 <span class="comment">/** Set @a stream's read function to @a read_fn */</span>
<a name="l00572"></a>00572 <span class="keywordtype">void</span> <a class="code" href="group__svn__io__byte__streams.html#ge9ebdcf950b897d9c0cb89c331262aed" title="Set stream&amp;#39;s read function to read_fn.">svn_stream_set_read</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <a class="code" href="group__svn__io__byte__streams.html#g9a8939b5258b070a48aa1e0cd154909a" title="Read handler function for a generic stream.">svn_read_fn_t</a> read_fn);
<a name="l00573"></a>00573 <span class="comment"></span>
<a name="l00574"></a>00574 <span class="comment">/** Set @a stream's write function to @a write_fn */</span>
<a name="l00575"></a>00575 <span class="keywordtype">void</span> <a class="code" href="group__svn__io__byte__streams.html#gea19e182974e64a77d3f949a25f496a1" title="Set stream&amp;#39;s write function to write_fn.">svn_stream_set_write</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <a class="code" href="group__svn__io__byte__streams.html#ga79398b116a9209eb3a79947a6066f54" title="Write handler function for a generic stream.">svn_write_fn_t</a> write_fn);
<a name="l00576"></a>00576 <span class="comment"></span>
<a name="l00577"></a>00577 <span class="comment">/** Set @a stream's close function to @a close_fn */</span>
<a name="l00578"></a>00578 <span class="keywordtype">void</span> <a class="code" href="group__svn__io__byte__streams.html#g090c93a72964b78a00de75fa10fc5078" title="Set stream&amp;#39;s close function to close_fn.">svn_stream_set_close</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <a class="code" href="group__svn__io__byte__streams.html#g576facc62f51e98c14cb440df1e58cd9" title="Close handler function for a generic stream.">svn_close_fn_t</a> close_fn);
<a name="l00579"></a>00579 
<a name="l00580"></a>00580 <span class="comment"></span>
<a name="l00581"></a>00581 <span class="comment">/** Create a stream that is empty for reading and infinite for writing. */</span>
<a name="l00582"></a>00582 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g9f0acad4da18e90c1dc5250643af7049" title="Create a stream that is empty for reading and infinite for writing.">svn_stream_empty</a>(apr_pool_t *pool);
<a name="l00583"></a>00583 <span class="comment"></span>
<a name="l00584"></a>00584 <span class="comment">/** Return a stream allocated in @a pool which forwards all requests</span>
<a name="l00585"></a>00585 <span class="comment"> * to @a stream.  Destruction is explicitly excluded from forwarding.</span>
<a name="l00586"></a>00586 <span class="comment"> *</span>
<a name="l00587"></a>00587 <span class="comment"> * @see notes/destruction-of-stacked-resources</span>
<a name="l00588"></a>00588 <span class="comment"> *</span>
<a name="l00589"></a>00589 <span class="comment"> * @since New in 1.4.</span>
<a name="l00590"></a>00590 <span class="comment"> */</span>
<a name="l00591"></a>00591 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g61c69116290c1f5e5fedd91ed7bed5ca" title="Return a stream allocated in pool which forwards all requests to stream.">svn_stream_disown</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, apr_pool_t *pool);
<a name="l00592"></a>00592 <span class="comment"></span>
<a name="l00593"></a>00593 <span class="comment">/** Create a stream from an APR file.  For convenience, if @a file is</span>
<a name="l00594"></a>00594 <span class="comment"> * @c NULL, an empty stream created by svn_stream_empty() is returned.</span>
<a name="l00595"></a>00595 <span class="comment"> *</span>
<a name="l00596"></a>00596 <span class="comment"> * This function should normally be called with @a disown set to FALSE,</span>
<a name="l00597"></a>00597 <span class="comment"> * in which case closing the stream will also close the underlying file.</span>
<a name="l00598"></a>00598 <span class="comment"> *</span>
<a name="l00599"></a>00599 <span class="comment"> * If @a disown is TRUE, the stream will disown the underlying file,</span>
<a name="l00600"></a>00600 <span class="comment"> * meaning that svn_stream_close() will not close the file.</span>
<a name="l00601"></a>00601 <span class="comment"> *</span>
<a name="l00602"></a>00602 <span class="comment"> * @since New in 1.4.</span>
<a name="l00603"></a>00603 <span class="comment"> */</span>
<a name="l00604"></a>00604 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> * <a class="code" href="group__svn__io__byte__streams.html#gdf2971328919edf3fed5ef8353a90525" title="Create a stream from an APR file.">svn_stream_from_aprfile2</a>(apr_file_t *file,
<a name="l00605"></a>00605                                         <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> disown,
<a name="l00606"></a>00606                                         apr_pool_t *pool);
<a name="l00607"></a>00607 <span class="comment"></span>
<a name="l00608"></a>00608 <span class="comment">/** Similar to svn_stream_from_aprfile2(), except that the file will</span>
<a name="l00609"></a>00609 <span class="comment"> * always be disowned.</span>
<a name="l00610"></a>00610 <span class="comment"> *</span>
<a name="l00611"></a>00611 <span class="comment"> * @note The stream returned is not considered to "own" the underlying</span>
<a name="l00612"></a>00612 <span class="comment"> *       file, meaning that svn_stream_close() on the stream will not</span>
<a name="l00613"></a>00613 <span class="comment"> *       close the file.</span>
<a name="l00614"></a>00614 <span class="comment"> *</span>
<a name="l00615"></a>00615 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.3 API.</span>
<a name="l00616"></a>00616 <span class="comment"> */</span>
<a name="l00617"></a>00617 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#gd12a2e4cbc23bcf8ee3f650966b8c43b" title="Similar to svn_stream_from_aprfile2(), except that the file will always be disowned...">svn_stream_from_aprfile</a>(apr_file_t *file, apr_pool_t *pool);
<a name="l00618"></a>00618 <span class="comment"></span>
<a name="l00619"></a>00619 <span class="comment">/** Set @a *out to a generic stream connected to stdout, allocated in</span>
<a name="l00620"></a>00620 <span class="comment"> * @a pool.  The stream and its underlying APR handle will be closed</span>
<a name="l00621"></a>00621 <span class="comment"> * when @a pool is cleared or destroyed.</span>
<a name="l00622"></a>00622 <span class="comment"> */</span>
<a name="l00623"></a>00623 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g64eca282d3b75b431a6f8ae5a6637fbb" title="Set *out to a generic stream connected to stdout, allocated in pool.">svn_stream_for_stdout</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> **out, apr_pool_t *pool);
<a name="l00624"></a>00624 <span class="comment"></span>
<a name="l00625"></a>00625 <span class="comment">/** Return a generic stream connected to stringbuf @a str.  Allocate the</span>
<a name="l00626"></a>00626 <span class="comment"> * stream in @a pool.</span>
<a name="l00627"></a>00627 <span class="comment"> */</span>
<a name="l00628"></a>00628 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#gbe260b52fa278bc63ba75ea695e54303" title="Return a generic stream connected to stringbuf str.">svn_stream_from_stringbuf</a>(<a class="code" href="structsvn__stringbuf__t.html" title="A buffered string, capable of appending without an allocation and copy for each append...">svn_stringbuf_t</a> *str,
<a name="l00629"></a>00629                                         apr_pool_t *pool);
<a name="l00630"></a>00630 <span class="comment"></span>
<a name="l00631"></a>00631 <span class="comment">/** Return a stream that decompresses all data read and compresses all</span>
<a name="l00632"></a>00632 <span class="comment"> * data written. The stream @a stream is used to read and write all</span>
<a name="l00633"></a>00633 <span class="comment"> * compressed data. All compression data structures are allocated on</span>
<a name="l00634"></a>00634 <span class="comment"> * @a pool. If compression support is not compiled in then</span>
<a name="l00635"></a>00635 <span class="comment"> * svn_stream_compressed() returns @a stream unmodified. Make sure you</span>
<a name="l00636"></a>00636 <span class="comment"> * call svn_stream_close() on the stream returned by this function,</span>
<a name="l00637"></a>00637 <span class="comment"> * so that all data are flushed and cleaned up.</span>
<a name="l00638"></a>00638 <span class="comment"> *</span>
<a name="l00639"></a>00639 <span class="comment"> * @note From 1.4, compression support is always compiled in.</span>
<a name="l00640"></a>00640 <span class="comment"> */</span>
<a name="l00641"></a>00641 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g10756ab562fd20d32fb880c859607b4c" title="Return a stream that decompresses all data read and compresses all data written.">svn_stream_compressed</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream,
<a name="l00642"></a>00642                                     apr_pool_t *pool);
<a name="l00643"></a>00643 <span class="comment"></span>
<a name="l00644"></a>00644 <span class="comment">/** Return a stream that calculates checksums for all data read</span>
<a name="l00645"></a>00645 <span class="comment"> * and written.  The stream @a stream is used to read and write all data.</span>
<a name="l00646"></a>00646 <span class="comment"> * The stream and the resulting digests are allocated in @a pool.</span>
<a name="l00647"></a>00647 <span class="comment"> *</span>
<a name="l00648"></a>00648 <span class="comment"> * When the stream is closed, @a read_digest and @a write_digest</span>
<a name="l00649"></a>00649 <span class="comment"> * are set to point to the resulting digests.</span>
<a name="l00650"></a>00650 <span class="comment"> *</span>
<a name="l00651"></a>00651 <span class="comment"> * Both @a read_digest and @a write_digest</span>
<a name="l00652"></a>00652 <span class="comment"> * can be @c NULL, in which case the respective checksum isn't calculated.</span>
<a name="l00653"></a>00653 <span class="comment"> *</span>
<a name="l00654"></a>00654 <span class="comment"> * If @a read_all is TRUE, make sure that all data available on @a</span>
<a name="l00655"></a>00655 <span class="comment"> * stream is read (and checksummed) when the stream is closed.</span>
<a name="l00656"></a>00656 <span class="comment"> *</span>
<a name="l00657"></a>00657 <span class="comment"> * Read and write operations can be mixed without interfering.</span>
<a name="l00658"></a>00658 <span class="comment"> *</span>
<a name="l00659"></a>00659 <span class="comment"> * The @a stream passed into this function is closed when the created</span>
<a name="l00660"></a>00660 <span class="comment"> * stream is closed.</span>
<a name="l00661"></a>00661 <span class="comment"> *</span>
<a name="l00662"></a>00662 <span class="comment"> * @since New in 1.4.</span>
<a name="l00663"></a>00663 <span class="comment"> */</span>
<a name="l00664"></a>00664 <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *<a class="code" href="group__svn__io__byte__streams.html#gdda74c8a8bf6d4dc64488979aa197afc" title="Return a stream that calculates checksums for all data read and written.">svn_stream_checksummed</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream,
<a name="l00665"></a>00665                                      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **read_digest,
<a name="l00666"></a>00666                                      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **write_digest,
<a name="l00667"></a>00667                                      <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> read_all,
<a name="l00668"></a>00668                                      apr_pool_t *pool);
<a name="l00669"></a>00669 <span class="comment"></span>
<a name="l00670"></a>00670 <span class="comment">/** Read from a generic stream. @see svn_stream_t. */</span>
<a name="l00671"></a>00671 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g241e8929f8f7631a629142bd749b25fc" title="Read from a generic stream.">svn_stream_read</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <span class="keywordtype">char</span> *buffer,
<a name="l00672"></a>00672                              apr_size_t *len);
<a name="l00673"></a>00673 <span class="comment"></span>
<a name="l00674"></a>00674 <span class="comment">/** Write to a generic stream. @see svn_stream_t. */</span>
<a name="l00675"></a>00675 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g0094764a89afdedecac79df9ad1ebccb" title="Write to a generic stream.">svn_stream_write</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream, <span class="keyword">const</span> <span class="keywordtype">char</span> *data,
<a name="l00676"></a>00676                               apr_size_t *len);
<a name="l00677"></a>00677 <span class="comment"></span>
<a name="l00678"></a>00678 <span class="comment">/** Close a generic stream. @see svn_stream_t. */</span>
<a name="l00679"></a>00679 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g7d9cdab4d5d8707d59a1b1d3dab95bb4" title="Close a generic stream.">svn_stream_close</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream);
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 <span class="comment"></span>
<a name="l00682"></a>00682 <span class="comment">/** Write to @a stream using a printf-style @a fmt specifier, passed through</span>
<a name="l00683"></a>00683 <span class="comment"> * apr_psprintf() using memory from @a pool.</span>
<a name="l00684"></a>00684 <span class="comment"> */</span>
<a name="l00685"></a>00685 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g288ac398ebf52240457408a18ca0479f" title="Write to stream using a printf-style fmt specifier, passed through apr_psprintf()...">svn_stream_printf</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream,
<a name="l00686"></a>00686                                apr_pool_t *pool,
<a name="l00687"></a>00687                                <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt,
<a name="l00688"></a>00688                                ...)
<a name="l00689"></a>00689        __attribute__((format(printf, 3, 4)));
<a name="l00690"></a>00690 <span class="comment"></span>
<a name="l00691"></a>00691 <span class="comment">/** Write to @a stream using a printf-style @a fmt specifier, passed through</span>
<a name="l00692"></a>00692 <span class="comment"> * apr_psprintf() using memory from @a pool.  The resulting string</span>
<a name="l00693"></a>00693 <span class="comment"> * will be translated to @a encoding before it is sent to @a stream.</span>
<a name="l00694"></a>00694 <span class="comment"> *</span>
<a name="l00695"></a>00695 <span class="comment"> * @note Use @c APR_LOCALE_CHARSET to translate to the encoding of the</span>
<a name="l00696"></a>00696 <span class="comment"> * current locale.</span>
<a name="l00697"></a>00697 <span class="comment"> *</span>
<a name="l00698"></a>00698 <span class="comment"> * @since New in 1.3.</span>
<a name="l00699"></a>00699 <span class="comment"> */</span>
<a name="l00700"></a>00700 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g4ca0edf4a668ba821d7dc5356361c658" title="Write to stream using a printf-style fmt specifier, passed through apr_psprintf()...">svn_stream_printf_from_utf8</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream,
<a name="l00701"></a>00701                                          const <span class="keywordtype">char</span> *encoding,
<a name="l00702"></a>00702                                          apr_pool_t *pool,
<a name="l00703"></a>00703                                          const <span class="keywordtype">char</span> *fmt,
<a name="l00704"></a>00704                                          ...)
<a name="l00705"></a>00705        __attribute__((format(printf, 4, 5)));
<a name="l00706"></a>00706 <span class="comment"></span>
<a name="l00707"></a>00707 <span class="comment">/** Allocate @a *stringbuf in @a pool, and read into it one line (terminated</span>
<a name="l00708"></a>00708 <span class="comment"> * by @a eol) from @a stream. The line-terminator is read from the stream,</span>
<a name="l00709"></a>00709 <span class="comment"> * but is not added to the end of the stringbuf.  Instead, the stringbuf</span>
<a name="l00710"></a>00710 <span class="comment"> * ends with a usual '\\0'.</span>
<a name="l00711"></a>00711 <span class="comment"> *</span>
<a name="l00712"></a>00712 <span class="comment"> * If @a stream runs out of bytes before encountering a line-terminator,</span>
<a name="l00713"></a>00713 <span class="comment"> * then set @a *eof to @c TRUE, otherwise set @a *eof to FALSE.</span>
<a name="l00714"></a>00714 <span class="comment"> */</span>
<a name="l00715"></a>00715 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l00716"></a>00716 <a class="code" href="group__svn__io__byte__streams.html#gac6d0a2e4bd56065397a058f792899e9" title="Allocate *stringbuf in pool, and read into it one line (terminated by eol) from stream...">svn_stream_readline</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream,
<a name="l00717"></a>00717                     <a class="code" href="structsvn__stringbuf__t.html" title="A buffered string, capable of appending without an allocation and copy for each append...">svn_stringbuf_t</a> **stringbuf,
<a name="l00718"></a>00718                     const <span class="keywordtype">char</span> *eol,
<a name="l00719"></a>00719                     <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *eof,
<a name="l00720"></a>00720                     apr_pool_t *pool);
<a name="l00721"></a>00721 <span class="comment"></span>
<a name="l00722"></a>00722 <span class="comment">/**</span>
<a name="l00723"></a>00723 <span class="comment"> * Read the contents of the readable stream @a from and write them to the</span>
<a name="l00724"></a>00724 <span class="comment"> * writable stream @a to calling @a cancel_func before copying each chunk.</span>
<a name="l00725"></a>00725 <span class="comment"> *</span>
<a name="l00726"></a>00726 <span class="comment"> * @a cancel_func may be @c NULL.</span>
<a name="l00727"></a>00727 <span class="comment"> *</span>
<a name="l00728"></a>00728 <span class="comment"> * @since New in 1.5.</span>
<a name="l00729"></a>00729 <span class="comment"> */</span>
<a name="l00730"></a>00730 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g1960de4b4eb0cf1a69a5ba5e11aaa6be" title="Read the contents of the readable stream from and write them to the writable stream...">svn_stream_copy2</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *from, <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *to,
<a name="l00731"></a>00731                               <a class="code" href="svn__types_8h.html#ddaab83431a3d41b6c62e9d501cd5ecc" title="A user defined callback that subversion will call with a user defined baton to see...">svn_cancel_func_t</a> cancel_func,
<a name="l00732"></a>00732                               <span class="keywordtype">void</span> *cancel_baton,
<a name="l00733"></a>00733                               apr_pool_t *pool);
<a name="l00734"></a>00734 
<a name="l00735"></a>00735 <span class="comment"></span>
<a name="l00736"></a>00736 <span class="comment">/**</span>
<a name="l00737"></a>00737 <span class="comment"> * Same as svn_stream_copy2(), but without the cancellation function.</span>
<a name="l00738"></a>00738 <span class="comment"> *</span>
<a name="l00739"></a>00739 <span class="comment"> * @since New in 1.1.</span>
<a name="l00740"></a>00740 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.4 API.</span>
<a name="l00741"></a>00741 <span class="comment"> */</span>
<a name="l00742"></a>00742 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="group__svn__io__byte__streams.html#g444db383401ed714a240ff6ca5ca76b3" title="Same as svn_stream_copy2(), but without the cancellation function.">svn_stream_copy</a>(<a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *from, <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *to,
<a name="l00743"></a>00743                              apr_pool_t *pool);
<a name="l00744"></a>00744 <span class="comment"></span>
<a name="l00745"></a>00745 <span class="comment">/** Set @a *same to TRUE if @a stream1 and @a stream2 have the same</span>
<a name="l00746"></a>00746 <span class="comment"> * contents, else set it to FALSE.  Use @a pool for temporary allocations.</span>
<a name="l00747"></a>00747 <span class="comment"> *</span>
<a name="l00748"></a>00748 <span class="comment"> * @since New in 1.4.</span>
<a name="l00749"></a>00749 <span class="comment"> */</span>
<a name="l00750"></a>00750 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l00751"></a>00751 <a class="code" href="group__svn__io__byte__streams.html#g14b9375f4e0300888b853650e15a987a" title="Set *same to TRUE if stream1 and stream2 have the same contents, else set it to FALSE...">svn_stream_contents_same</a>(<a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> *same,
<a name="l00752"></a>00752                          <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream1,
<a name="l00753"></a>00753                          <a class="code" href="group__svn__io__byte__streams.html#g06d6291c397e63f895deb92a2c14e6af" title="An abstract stream of bytes--either incoming or outgoing or both.">svn_stream_t</a> *stream2,
<a name="l00754"></a>00754                          apr_pool_t *pool);
<a name="l00755"></a>00755 <span class="comment"></span>
<a name="l00756"></a>00756 <span class="comment">/** @} */</span>
<a name="l00757"></a>00757 <span class="comment"></span>
<a name="l00758"></a>00758 <span class="comment">/** Set @a *result to a string containing the contents of @a</span>
<a name="l00759"></a>00759 <span class="comment"> * filename, which is either "-" (indicating that stdin should be</span>
<a name="l00760"></a>00760 <span class="comment"> * read) or the utf8-encoded path of a real file.</span>
<a name="l00761"></a>00761 <span class="comment"> *</span>
<a name="l00762"></a>00762 <span class="comment"> * @warning Callers should be aware of possible unexpected results</span>
<a name="l00763"></a>00763 <span class="comment"> * when using this function to read from stdin where additional</span>
<a name="l00764"></a>00764 <span class="comment"> * stdin-reading processes abound.  For example, if a program tries</span>
<a name="l00765"></a>00765 <span class="comment"> * both to invoke an external editor and to read from stdin, stdin</span>
<a name="l00766"></a>00766 <span class="comment"> * could be trashed and the editor might act funky or die outright.</span>
<a name="l00767"></a>00767 <span class="comment"> *</span>
<a name="l00768"></a>00768 <span class="comment"> * @since New in 1.5.</span>
<a name="l00769"></a>00769 <span class="comment"> */</span>
<a name="l00770"></a>00770 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#9135b41547d59296fc54c8316278a0d6" title="Set *result to a string containing the contents of filename, which is either &amp;quot;-&amp;quot;...">svn_stringbuf_from_file2</a>(<a class="code" href="structsvn__stringbuf__t.html" title="A buffered string, capable of appending without an allocation and copy for each append...">svn_stringbuf_t</a> **result,
<a name="l00771"></a>00771                                       const <span class="keywordtype">char</span> *filename,
<a name="l00772"></a>00772                                       apr_pool_t *pool);
<a name="l00773"></a>00773 <span class="comment"></span>
<a name="l00774"></a>00774 <span class="comment">/** Similar to svn_stringbuf_from_file2(), except that if @a filename</span>
<a name="l00775"></a>00775 <span class="comment"> * is "-", return the error @c SVN_ERR_UNSUPPORTED_FEATURE and don't</span>
<a name="l00776"></a>00776 <span class="comment"> * touch @a *result.</span>
<a name="l00777"></a>00777 <span class="comment"> *</span>
<a name="l00778"></a>00778 <span class="comment"> * @deprecated Provided for backwards compatibility with the 1.4 API.</span>
<a name="l00779"></a>00779 <span class="comment"> */</span>
<a name="l00780"></a>00780 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#2ffefcabf44f9e9fb2f71d409fcf782e" title="Similar to svn_stringbuf_from_file2(), except that if filename is &amp;quot;-&amp;quot;,...">svn_stringbuf_from_file</a>(<a class="code" href="structsvn__stringbuf__t.html" title="A buffered string, capable of appending without an allocation and copy for each append...">svn_stringbuf_t</a> **result,
<a name="l00781"></a>00781                                      const <span class="keywordtype">char</span> *filename,
<a name="l00782"></a>00782                                      apr_pool_t *pool);
<a name="l00783"></a>00783 <span class="comment"></span>
<a name="l00784"></a>00784 <span class="comment">/** Sets @a *result to a string containing the contents of the already opened</span>
<a name="l00785"></a>00785 <span class="comment"> * @a file.  Reads from the current position in file to the end.  Does not</span>
<a name="l00786"></a>00786 <span class="comment"> * close the file or reset the cursor position.</span>
<a name="l00787"></a>00787 <span class="comment"> */</span>
<a name="l00788"></a>00788 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#59b7be5b78cc045ed972b226e06ab509" title="Sets *result to a string containing the contents of the already opened file.">svn_stringbuf_from_aprfile</a>(<a class="code" href="structsvn__stringbuf__t.html" title="A buffered string, capable of appending without an allocation and copy for each append...">svn_stringbuf_t</a> **result,
<a name="l00789"></a>00789                                         apr_file_t *file,
<a name="l00790"></a>00790                                         apr_pool_t *pool);
<a name="l00791"></a>00791 <span class="comment"></span>
<a name="l00792"></a>00792 <span class="comment">/** Remove file @a path, a utf8-encoded path.  This wraps apr_file_remove(),</span>
<a name="l00793"></a>00793 <span class="comment"> * converting any error to a Subversion error.</span>
<a name="l00794"></a>00794 <span class="comment"> */</span>
<a name="l00795"></a>00795 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#bce28e789f76b15917b28b157d54dcfb" title="Remove file path, a utf8-encoded path.">svn_io_remove_file</a>(const <span class="keywordtype">char</span> *path, apr_pool_t *pool);
<a name="l00796"></a>00796 <span class="comment"></span>
<a name="l00797"></a>00797 <span class="comment">/** Recursively remove directory @a path.  @a path is utf8-encoded.</span>
<a name="l00798"></a>00798 <span class="comment"> * If @a ignore_enoent is @c TRUE, don't fail if the target directory</span>
<a name="l00799"></a>00799 <span class="comment"> * doesn't exist.  Use @a pool for temporary allocations.</span>
<a name="l00800"></a>00800 <span class="comment"> *</span>
<a name="l00801"></a>00801 <span class="comment"> * Because recursive delete of a directory tree can be a lengthy operation,</span>
<a name="l00802"></a>00802 <span class="comment"> * provide @a cancel_func and @a cancel_baton for interuptability.</span>
<a name="l00803"></a>00803 <span class="comment"> *</span>
<a name="l00804"></a>00804 <span class="comment"> * @since New in 1.5.</span>
<a name="l00805"></a>00805 <span class="comment"> */</span>
<a name="l00806"></a>00806 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#9a26dab3678b7ee9c8ebdb8e1d60aedc" title="Recursively remove directory path.">svn_io_remove_dir2</a>(const <span class="keywordtype">char</span> *path,
<a name="l00807"></a>00807                                 <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> ignore_enoent,
<a name="l00808"></a>00808                                 <a class="code" href="svn__types_8h.html#ddaab83431a3d41b6c62e9d501cd5ecc" title="A user defined callback that subversion will call with a user defined baton to see...">svn_cancel_func_t</a> cancel_func,
<a name="l00809"></a>00809                                 <span class="keywordtype">void</span> *cancel_baton,
<a name="l00810"></a>00810                                 apr_pool_t *pool);
<a name="l00811"></a>00811 <span class="comment"></span>
<a name="l00812"></a>00812 <span class="comment">/** Similar to svn_io_remove_dir2(), but with @a ignore_enoent set to</span>
<a name="l00813"></a>00813 <span class="comment"> * @c FALSE.</span>
<a name="l00814"></a>00814 <span class="comment"> *</span>
<a name="l00815"></a>00815 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.4 API</span>
<a name="l00816"></a>00816 <span class="comment"> */</span>
<a name="l00817"></a>00817 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#d7a26505bf041286d02793eb2a17be04" title="Similar to svn_io_remove_dir2(), but with ignore_enoent set to FALSE.">svn_io_remove_dir</a>(const <span class="keywordtype">char</span> *path, apr_pool_t *pool);
<a name="l00818"></a>00818 <span class="comment"></span>
<a name="l00819"></a>00819 <span class="comment">/** Read all of the disk entries in directory @a path, a utf8-encoded</span>
<a name="l00820"></a>00820 <span class="comment"> * path.  Set @a *dirents to a hash mapping dirent names (&lt;tt&gt;char *&lt;/tt&gt;) to</span>
<a name="l00821"></a>00821 <span class="comment"> * undefined non-NULL values, allocated in @a pool.</span>
<a name="l00822"></a>00822 <span class="comment"> *</span>
<a name="l00823"></a>00823 <span class="comment"> * @note The `.' and `..' directories normally returned by</span>
<a name="l00824"></a>00824 <span class="comment"> * apr_dir_read() are NOT returned in the hash.</span>
<a name="l00825"></a>00825 <span class="comment"> *</span>
<a name="l00826"></a>00826 <span class="comment"> * @since New in 1.4.</span>
<a name="l00827"></a>00827 <span class="comment"> */</span>
<a name="l00828"></a>00828 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#0f79a74771d956231850979d58b9106e" title="Read all of the disk entries in directory path, a utf8-encoded path.">svn_io_get_dir_filenames</a>(apr_hash_t **dirents,
<a name="l00829"></a>00829                                       const <span class="keywordtype">char</span> *path,
<a name="l00830"></a>00830                                       apr_pool_t *pool);
<a name="l00831"></a>00831 <span class="comment"></span>
<a name="l00832"></a>00832 <span class="comment">/** Read all of the disk entries in directory @a path, a utf8-encoded</span>
<a name="l00833"></a>00833 <span class="comment"> * path.  Set @a *dirents to a hash mapping dirent names (&lt;tt&gt;char *&lt;/tt&gt;) to</span>
<a name="l00834"></a>00834 <span class="comment"> * @c svn_io_dirent_t structures, allocated in @a pool.</span>
<a name="l00835"></a>00835 <span class="comment"> *</span>
<a name="l00836"></a>00836 <span class="comment"> * @note The `.' and `..' directories normally returned by</span>
<a name="l00837"></a>00837 <span class="comment"> * apr_dir_read() are NOT returned in the hash.</span>
<a name="l00838"></a>00838 <span class="comment"> *</span>
<a name="l00839"></a>00839 <span class="comment"> * @note The kind field in the @a dirents is set according to the mapping</span>
<a name="l00840"></a>00840 <span class="comment"> *       as documented for svn_io_check_path()</span>
<a name="l00841"></a>00841 <span class="comment"> *</span>
<a name="l00842"></a>00842 <span class="comment"> * @since New in 1.3.</span>
<a name="l00843"></a>00843 <span class="comment"> */</span>
<a name="l00844"></a>00844 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#1583e69324a3f820894422f57fa37d57" title="Read all of the disk entries in directory path, a utf8-encoded path.">svn_io_get_dirents2</a>(apr_hash_t **dirents,
<a name="l00845"></a>00845                                  const <span class="keywordtype">char</span> *path,
<a name="l00846"></a>00846                                  apr_pool_t *pool);
<a name="l00847"></a>00847 <span class="comment"></span>
<a name="l00848"></a>00848 <span class="comment">/** Similar to svn_io_get_dirents2(), but @a *dirents is a hash table</span>
<a name="l00849"></a>00849 <span class="comment"> * with @c svn_node_kind_t values.</span>
<a name="l00850"></a>00850 <span class="comment"> *</span>
<a name="l00851"></a>00851 <span class="comment"> * @deprecated Provided for backwards compatibility with the 1.2 API.</span>
<a name="l00852"></a>00852 <span class="comment"> */</span>
<a name="l00853"></a>00853 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#4b09482c9762a2391435a6d1702d59af" title="Similar to svn_io_get_dirents2(), but *dirents is a hash table with svn_node_kind_t...">svn_io_get_dirents</a>(apr_hash_t **dirents,
<a name="l00854"></a>00854                                 const <span class="keywordtype">char</span> *path,
<a name="l00855"></a>00855                                 apr_pool_t *pool);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857 <span class="comment"></span>
<a name="l00858"></a>00858 <span class="comment">/** Callback function type for svn_io_dir_walk() */</span>
<a name="l00859"></a><a class="code" href="svn__io_8h.html#e3dd33688b3e75430f4720f4d90c1506">00859</a> typedef <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> * (*<a class="code" href="svn__io_8h.html#e3dd33688b3e75430f4720f4d90c1506" title="Callback function type for svn_io_dir_walk().">svn_io_walk_func_t</a>)(<span class="keywordtype">void</span> *baton,
<a name="l00860"></a>00860                                             const <span class="keywordtype">char</span> *path,
<a name="l00861"></a>00861                                             const apr_finfo_t *finfo,
<a name="l00862"></a>00862                                             apr_pool_t *pool);
<a name="l00863"></a>00863 <span class="comment"></span>
<a name="l00864"></a>00864 <span class="comment">/** This function will recursively walk over the files and directories</span>
<a name="l00865"></a>00865 <span class="comment"> * rooted at @a dirname, a utf8-encoded path. For each file or directory,</span>
<a name="l00866"></a>00866 <span class="comment"> * @a walk_func is invoked, passing in the @a walk_baton, the utf8-encoded</span>
<a name="l00867"></a>00867 <span class="comment"> * full path to the entry, an @c apr_finfo_t structure, and a temporary</span>
<a name="l00868"></a>00868 <span class="comment"> * pool for allocations.  For any directory, @a walk_func will be invoked</span>
<a name="l00869"></a>00869 <span class="comment"> * on the directory itself before being invoked on any subdirectories or</span>
<a name="l00870"></a>00870 <span class="comment"> * files within the directory.</span>
<a name="l00871"></a>00871 <span class="comment"> *</span>
<a name="l00872"></a>00872 <span class="comment"> * The set of information passed to @a walk_func is specified by @a wanted,</span>
<a name="l00873"></a>00873 <span class="comment"> * and the items specified by @c APR_FINFO_TYPE and @c APR_FINFO_NAME.</span>
<a name="l00874"></a>00874 <span class="comment"> *</span>
<a name="l00875"></a>00875 <span class="comment"> * All allocations will be performed in @a pool.</span>
<a name="l00876"></a>00876 <span class="comment"> */</span>
<a name="l00877"></a>00877 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#cac394a2c49dcfb02b8cda55c9281625" title="This function will recursively walk over the files and directories rooted at dirname...">svn_io_dir_walk</a>(const <span class="keywordtype">char</span> *dirname,
<a name="l00878"></a>00878                              apr_int32_t wanted,
<a name="l00879"></a>00879                              <a class="code" href="svn__io_8h.html#e3dd33688b3e75430f4720f4d90c1506" title="Callback function type for svn_io_dir_walk().">svn_io_walk_func_t</a> walk_func,
<a name="l00880"></a>00880                              <span class="keywordtype">void</span> *walk_baton,
<a name="l00881"></a>00881                              apr_pool_t *pool);
<a name="l00882"></a>00882 <span class="comment"></span>
<a name="l00883"></a>00883 <span class="comment">/**</span>
<a name="l00884"></a>00884 <span class="comment"> * Start @a cmd with @a args, using utf8-encoded @a path as working</span>
<a name="l00885"></a>00885 <span class="comment"> * directory.  Connect @a cmd's stdin, stdout, and stderr to @a infile,</span>
<a name="l00886"></a>00886 <span class="comment"> * @a outfile, and @a errfile, except where they are NULL.  Return the</span>
<a name="l00887"></a>00887 <span class="comment"> * process handle for the invoked program in @a *cmd_proc.</span>
<a name="l00888"></a>00888 <span class="comment"> *</span>
<a name="l00889"></a>00889 <span class="comment"> * @a args is a list of utf8-encoded &lt;tt&gt;const char *&lt;/tt&gt; arguments,</span>
<a name="l00890"></a>00890 <span class="comment"> * terminated by @c NULL.  @a args[0] is the name of the program, though it</span>
<a name="l00891"></a>00891 <span class="comment"> * need not be the same as @a cmd.</span>
<a name="l00892"></a>00892 <span class="comment"> *</span>
<a name="l00893"></a>00893 <span class="comment"> * If @a inherit is TRUE, the invoked program inherits its environment from</span>
<a name="l00894"></a>00894 <span class="comment"> * the caller and @a cmd, if not absolute, is searched for in PATH.</span>
<a name="l00895"></a>00895 <span class="comment"> * Otherwise, the invoked program runs with an empty environment and @a cmd</span>
<a name="l00896"></a>00896 <span class="comment"> * must be an absolute path.</span>
<a name="l00897"></a>00897 <span class="comment"> *</span>
<a name="l00898"></a>00898 <span class="comment"> * @note On some platforms, failure to execute @a cmd in the child process</span>
<a name="l00899"></a>00899 <span class="comment"> * will result in error output being written to @a errfile, if non-NULL, and</span>
<a name="l00900"></a>00900 <span class="comment"> * a non-zero exit status being returned to the parent process.</span>
<a name="l00901"></a>00901 <span class="comment"> *</span>
<a name="l00902"></a>00902 <span class="comment"> * @since New in 1.3.</span>
<a name="l00903"></a>00903 <span class="comment"> */</span>
<a name="l00904"></a>00904 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#4ee2641c854734f78337aee204b79201" title="Start cmd with args, using utf8-encoded path as working directory.">svn_io_start_cmd</a>(apr_proc_t *cmd_proc,
<a name="l00905"></a>00905                               const <span class="keywordtype">char</span> *path,
<a name="l00906"></a>00906                               const <span class="keywordtype">char</span> *cmd,
<a name="l00907"></a>00907                               const <span class="keywordtype">char</span> *const *args,
<a name="l00908"></a>00908                               <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> inherit,
<a name="l00909"></a>00909                               apr_file_t *infile,
<a name="l00910"></a>00910                               apr_file_t *outfile,
<a name="l00911"></a>00911                               apr_file_t *errfile,
<a name="l00912"></a>00912                               apr_pool_t *pool);
<a name="l00913"></a>00913 <span class="comment"></span>
<a name="l00914"></a>00914 <span class="comment">/**</span>
<a name="l00915"></a>00915 <span class="comment"> * Wait for the process @a *cmd_proc to complete and optionally retrieve</span>
<a name="l00916"></a>00916 <span class="comment"> * its exit code.  @a cmd is used only in error messages.</span>
<a name="l00917"></a>00917 <span class="comment"> *</span>
<a name="l00918"></a>00918 <span class="comment"> * If @a exitcode is not NULL, @a *exitcode will contain the exit code</span>
<a name="l00919"></a>00919 <span class="comment"> * of the process upon return, and if @a exitwhy is not NULL, @a</span>
<a name="l00920"></a>00920 <span class="comment"> * *exitwhy will indicate why the process terminated.  If @a exitwhy is</span>
<a name="l00921"></a>00921 <span class="comment"> * NULL, and the exit reason is not @c APR_PROC_CHECK_EXIT(), or if</span>
<a name="l00922"></a>00922 <span class="comment"> * @a exitcode is NULL and the exit code is non-zero, then an</span>
<a name="l00923"></a>00923 <span class="comment"> * @c SVN_ERR_EXTERNAL_PROGRAM error will be returned.</span>
<a name="l00924"></a>00924 <span class="comment"> *</span>
<a name="l00925"></a>00925 <span class="comment"> * @since New in 1.3.</span>
<a name="l00926"></a>00926 <span class="comment"> */</span>
<a name="l00927"></a>00927 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#cc0478196081ff559613daf3ac8a39c7" title="Wait for the process *cmd_proc to complete and optionally retrieve its exit code...">svn_io_wait_for_cmd</a>(apr_proc_t *cmd_proc,
<a name="l00928"></a>00928                                  const <span class="keywordtype">char</span> *cmd,
<a name="l00929"></a>00929                                  <span class="keywordtype">int</span> *exitcode,
<a name="l00930"></a>00930                                  apr_exit_why_e *exitwhy,
<a name="l00931"></a>00931                                  apr_pool_t *pool);
<a name="l00932"></a>00932 <span class="comment"></span>
<a name="l00933"></a>00933 <span class="comment">/** Run a command to completion, by first calling svn_io_start_cmd() and</span>
<a name="l00934"></a>00934 <span class="comment"> * then calling svn_io_wait_for_cmd().  The parameters correspond to</span>
<a name="l00935"></a>00935 <span class="comment"> * the same-named parameters of those two functions.</span>
<a name="l00936"></a>00936 <span class="comment"> */</span>
<a name="l00937"></a>00937 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#b59c1c8d67cf405ca36a5556858da82d" title="Run a command to completion, by first calling svn_io_start_cmd() and then calling...">svn_io_run_cmd</a>(const <span class="keywordtype">char</span> *path,
<a name="l00938"></a>00938                             const <span class="keywordtype">char</span> *cmd,
<a name="l00939"></a>00939                             const <span class="keywordtype">char</span> *const *args,
<a name="l00940"></a>00940                             <span class="keywordtype">int</span> *exitcode,
<a name="l00941"></a>00941                             apr_exit_why_e *exitwhy,
<a name="l00942"></a>00942                             <a class="code" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024" title="YABT: Yet Another Boolean Type.">svn_boolean_t</a> inherit,
<a name="l00943"></a>00943                             apr_file_t *infile,
<a name="l00944"></a>00944                             apr_file_t *outfile,
<a name="l00945"></a>00945                             apr_file_t *errfile,
<a name="l00946"></a>00946                             apr_pool_t *pool);
<a name="l00947"></a>00947 <span class="comment"></span>
<a name="l00948"></a>00948 <span class="comment">/** Invoke @c the configured diff program, with @a user_args (an array</span>
<a name="l00949"></a>00949 <span class="comment"> * of utf8-encoded @a num_user_args arguments) if they are specified</span>
<a name="l00950"></a>00950 <span class="comment"> * (that is, if @a user_args is non-NULL), or "-u" if they are not.</span>
<a name="l00951"></a>00951 <span class="comment"> * If @a user_args is NULL, the value of @a num_user_args is ignored.</span>
<a name="l00952"></a>00952 <span class="comment"> *</span>
<a name="l00953"></a>00953 <span class="comment"> * Diff runs in utf8-encoded @a dir, and its exit status is stored in</span>
<a name="l00954"></a>00954 <span class="comment"> * @a exitcode, if it is not @c NULL.</span>
<a name="l00955"></a>00955 <span class="comment"> *</span>
<a name="l00956"></a>00956 <span class="comment"> * If @a label1 and/or @a label2 are not NULL they will be passed to the diff</span>
<a name="l00957"></a>00957 <span class="comment"> * process as the arguments of "-L" options.  @a label1 and @a label2 are also</span>
<a name="l00958"></a>00958 <span class="comment"> * in utf8, and will be converted to native charset along with the other args.</span>
<a name="l00959"></a>00959 <span class="comment"> *</span>
<a name="l00960"></a>00960 <span class="comment"> * @a from is the first file passed to diff, and @a to is the second.  The</span>
<a name="l00961"></a>00961 <span class="comment"> * stdout of diff will be sent to @a outfile, and the stderr to @a errfile.</span>
<a name="l00962"></a>00962 <span class="comment"> *</span>
<a name="l00963"></a>00963 <span class="comment"> * @a diff_cmd must be non-NULL.</span>
<a name="l00964"></a>00964 <span class="comment"> *</span>
<a name="l00965"></a>00965 <span class="comment"> * Do all allocation in @a pool.</span>
<a name="l00966"></a>00966 <span class="comment"> */</span>
<a name="l00967"></a>00967 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#6c0266e00c285a0b90eef9faf0e31024" title="Invoke the configured diff program, with user_args (an array of utf8-encoded num_user_args...">svn_io_run_diff</a>(const <span class="keywordtype">char</span> *dir,
<a name="l00968"></a>00968                              const <span class="keywordtype">char</span> *const *user_args,
<a name="l00969"></a>00969                              <span class="keywordtype">int</span> num_user_args,
<a name="l00970"></a>00970                              const <span class="keywordtype">char</span> *label1,
<a name="l00971"></a>00971                              const <span class="keywordtype">char</span> *label2,
<a name="l00972"></a>00972                              const <span class="keywordtype">char</span> *from,
<a name="l00973"></a>00973                              const <span class="keywordtype">char</span> *to,
<a name="l00974"></a>00974                              <span class="keywordtype">int</span> *exitcode,
<a name="l00975"></a>00975                              apr_file_t *outfile,
<a name="l00976"></a>00976                              apr_file_t *errfile,
<a name="l00977"></a>00977                              const <span class="keywordtype">char</span> *diff_cmd,
<a name="l00978"></a>00978                              apr_pool_t *pool);
<a name="l00979"></a>00979 
<a name="l00980"></a>00980 <span class="comment"></span>
<a name="l00981"></a>00981 <span class="comment">/** Invoke the configured @c diff3 program, in utf8-encoded @a dir</span>
<a name="l00982"></a>00982 <span class="comment"> * like this:</span>
<a name="l00983"></a>00983 <span class="comment"> *</span>
<a name="l00984"></a>00984 <span class="comment"> *          diff3 -E -m @a mine @a older @a yours &gt; @a merged</span>
<a name="l00985"></a>00985 <span class="comment"> *</span>
<a name="l00986"></a>00986 <span class="comment"> * (See the diff3 documentation for details.)</span>
<a name="l00987"></a>00987 <span class="comment"> *</span>
<a name="l00988"></a>00988 <span class="comment"> * If @a user_args is non-NULL, replace "-E" with the &lt;tt&gt;const char*&lt;/tt&gt;</span>
<a name="l00989"></a>00989 <span class="comment"> * elements that @a user_args contains.</span>
<a name="l00990"></a>00990 <span class="comment"> *</span>
<a name="l00991"></a>00991 <span class="comment"> * @a mine, @a older and @a yours are utf8-encoded paths (relative to</span>
<a name="l00992"></a>00992 <span class="comment"> * @a dir or absolute) to three files that already exist.</span>
<a name="l00993"></a>00993 <span class="comment"> *</span>
<a name="l00994"></a>00994 <span class="comment"> * @a merged is an open file handle, and is left open after the merge</span>
<a name="l00995"></a>00995 <span class="comment"> * result is written to it. (@a merged should *not* be the same file</span>
<a name="l00996"></a>00996 <span class="comment"> * as @a mine, or nondeterministic things may happen!)</span>
<a name="l00997"></a>00997 <span class="comment"> *</span>
<a name="l00998"></a>00998 <span class="comment"> * @a mine_label, @a older_label, @a yours_label are utf8-encoded label</span>
<a name="l00999"></a>00999 <span class="comment"> * parameters for diff3's -L option.  Any of them may be @c NULL, in</span>
<a name="l01000"></a>01000 <span class="comment"> * which case the corresponding @a mine, @a older, or @a yours parameter is</span>
<a name="l01001"></a>01001 <span class="comment"> * used instead.</span>
<a name="l01002"></a>01002 <span class="comment"> *</span>
<a name="l01003"></a>01003 <span class="comment"> * Set @a *exitcode to diff3's exit status.  If @a *exitcode is anything</span>
<a name="l01004"></a>01004 <span class="comment"> * other than 0 or 1, then return @c SVN_ERR_EXTERNAL_PROGRAM.  (Note the</span>
<a name="l01005"></a>01005 <span class="comment"> * following from the diff3 info pages: "An exit status of 0 means</span>
<a name="l01006"></a>01006 <span class="comment"> * `diff3' was successful, 1 means some conflicts were found, and 2</span>
<a name="l01007"></a>01007 <span class="comment"> * means trouble.")</span>
<a name="l01008"></a>01008 <span class="comment"> *</span>
<a name="l01009"></a>01009 <span class="comment"> * @a diff3_cmd must be non-NULL.</span>
<a name="l01010"></a>01010 <span class="comment"> *</span>
<a name="l01011"></a>01011 <span class="comment"> * Do all allocation in @a pool.</span>
<a name="l01012"></a>01012 <span class="comment"> *</span>
<a name="l01013"></a>01013 <span class="comment"> * @since New in 1.4.</span>
<a name="l01014"></a>01014 <span class="comment"> */</span>
<a name="l01015"></a>01015 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#284650316c8ceefd30c4dae9aef49ec4" title="Invoke the configured diff3 program, in utf8-encoded dir like this:.">svn_io_run_diff3_2</a>(<span class="keywordtype">int</span> *exitcode,
<a name="l01016"></a>01016                                 const <span class="keywordtype">char</span> *dir,
<a name="l01017"></a>01017                                 const <span class="keywordtype">char</span> *mine,
<a name="l01018"></a>01018                                 const <span class="keywordtype">char</span> *older,
<a name="l01019"></a>01019                                 const <span class="keywordtype">char</span> *yours,
<a name="l01020"></a>01020                                 const <span class="keywordtype">char</span> *mine_label,
<a name="l01021"></a>01021                                 const <span class="keywordtype">char</span> *older_label,
<a name="l01022"></a>01022                                 const <span class="keywordtype">char</span> *yours_label,
<a name="l01023"></a>01023                                 apr_file_t *merged,
<a name="l01024"></a>01024                                 const <span class="keywordtype">char</span> *diff3_cmd,
<a name="l01025"></a>01025                                 const apr_array_header_t *user_args,
<a name="l01026"></a>01026                                 apr_pool_t *pool);
<a name="l01027"></a>01027 <span class="comment"></span>
<a name="l01028"></a>01028 <span class="comment">/** Similar to svn_io_run_diff3_2(), but with @a user_args set to @c NULL.</span>
<a name="l01029"></a>01029 <span class="comment"> *</span>
<a name="l01030"></a>01030 <span class="comment"> * @deprecated Provided for backwards compatibility with the 1.3 API.</span>
<a name="l01031"></a>01031 <span class="comment"> */</span>
<a name="l01032"></a>01032 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#e800def15e3ffc5e1645b296c4e7a1ca" title="Similar to svn_io_run_diff3_2(), but with user_args set to NULL.">svn_io_run_diff3</a>(const <span class="keywordtype">char</span> *dir,
<a name="l01033"></a>01033                               const <span class="keywordtype">char</span> *mine,
<a name="l01034"></a>01034                               const <span class="keywordtype">char</span> *older,
<a name="l01035"></a>01035                               const <span class="keywordtype">char</span> *yours,
<a name="l01036"></a>01036                               const <span class="keywordtype">char</span> *mine_label,
<a name="l01037"></a>01037                               const <span class="keywordtype">char</span> *older_label,
<a name="l01038"></a>01038                               const <span class="keywordtype">char</span> *yours_label,
<a name="l01039"></a>01039                               apr_file_t *merged,
<a name="l01040"></a>01040                               <span class="keywordtype">int</span> *exitcode,
<a name="l01041"></a>01041                               const <span class="keywordtype">char</span> *diff3_cmd,
<a name="l01042"></a>01042                               apr_pool_t *pool);
<a name="l01043"></a>01043 
<a name="l01044"></a>01044 <span class="comment"></span>
<a name="l01045"></a>01045 <span class="comment">/** Parse utf8-encoded @a mimetypes_file as a MIME types file (such as</span>
<a name="l01046"></a>01046 <span class="comment"> * is provided with Apache HTTP Server), and set @a *type_map to a</span>
<a name="l01047"></a>01047 <span class="comment"> * hash mapping &lt;tt&gt;const char *&lt;/tt&gt; filename extensions to</span>
<a name="l01048"></a>01048 <span class="comment"> * &lt;tt&gt;const char *&lt;/tt&gt; MIME types.</span>
<a name="l01049"></a>01049 <span class="comment"> *</span>
<a name="l01050"></a>01050 <span class="comment"> * @since New in 1.5.</span>
<a name="l01051"></a>01051 <span class="comment"> */</span>
<a name="l01052"></a>01052 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#c4625a082416ccaafdd77e35e14ec4d4" title="Parse utf8-encoded mimetypes_file as a MIME types file (such as is provided with...">svn_io_parse_mimetypes_file</a>(apr_hash_t **type_map,
<a name="l01053"></a>01053                                          const <span class="keywordtype">char</span> *mimetypes_file,
<a name="l01054"></a>01054                                          apr_pool_t *pool);
<a name="l01055"></a>01055 
<a name="l01056"></a>01056 <span class="comment"></span>
<a name="l01057"></a>01057 <span class="comment">/** Examine utf8-encoded @a file to determine if it can be described by a</span>
<a name="l01058"></a>01058 <span class="comment"> * known (as in, known by this function) Multipurpose Internet Mail</span>
<a name="l01059"></a>01059 <span class="comment"> * Extension (MIME) type.  If so, set @a *mimetype to a character string</span>
<a name="l01060"></a>01060 <span class="comment"> * describing the MIME type, else set it to @c NULL.</span>
<a name="l01061"></a>01061 <span class="comment"> *</span>
<a name="l01062"></a>01062 <span class="comment"> * If not @c NULL, @a mimetype_map is a hash mapping &lt;tt&gt;const char *&lt;/tt&gt;</span>
<a name="l01063"></a>01063 <span class="comment"> * filename extensions to &lt;tt&gt;const char *&lt;/tt&gt; MIME types, and is the</span>
<a name="l01064"></a>01064 <span class="comment"> * first source consulted regarding @a file's MIME type.</span>
<a name="l01065"></a>01065 <span class="comment"> *</span>
<a name="l01066"></a>01066 <span class="comment"> * Use @a pool for any necessary allocations.</span>
<a name="l01067"></a>01067 <span class="comment"> *</span>
<a name="l01068"></a>01068 <span class="comment"> * @since New in 1.5.</span>
<a name="l01069"></a>01069 <span class="comment"> */</span>
<a name="l01070"></a>01070 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#c1989d5030f1445f2502258bf4901ab4" title="Examine utf8-encoded file to determine if it can be described by a known (as in,...">svn_io_detect_mimetype2</a>(const <span class="keywordtype">char</span> **mimetype,
<a name="l01071"></a>01071                                      const <span class="keywordtype">char</span> *file,
<a name="l01072"></a>01072                                      apr_hash_t *mimetype_map,
<a name="l01073"></a>01073                                      apr_pool_t *pool);
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 <span class="comment"></span>
<a name="l01076"></a>01076 <span class="comment">/** Like svn_io_detect_mimetype2, but with @a mimetypes_map set to</span>
<a name="l01077"></a>01077 <span class="comment"> * @c NULL.</span>
<a name="l01078"></a>01078 <span class="comment"> *</span>
<a name="l01079"></a>01079 <span class="comment"> * @deprecated Provided for backward compatibility with the 1.4 API</span>
<a name="l01080"></a>01080 <span class="comment"> */</span>
<a name="l01081"></a>01081 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *<a class="code" href="svn__io_8h.html#e1a5fef60e9dde8f5537e637e21d025a" title="Like svn_io_detect_mimetype2, but with mimetypes_map set to NULL.">svn_io_detect_mimetype</a>(const <span class="keywordtype">char</span> **mimetype,
<a name="l01082"></a>01082                                     const <span class="keywordtype">char</span> *file,
<a name="l01083"></a>01083                                     apr_pool_t *pool);
<a name="l01084"></a>01084 
<a name="l01085"></a>01085 <span class="comment"></span>
<a name="l01086"></a>01086 <span class="comment">/** Wrapper for apr_file_open().  @a fname is utf8-encoded. */</span>
<a name="l01087"></a>01087 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01088"></a>01088 <a class="code" href="svn__io_8h.html#aafb0039d02ec4d4393c433c9430aa48" title="Wrapper for apr_file_open().">svn_io_file_open</a>(apr_file_t **new_file, const <span class="keywordtype">char</span> *fname,
<a name="l01089"></a>01089                  apr_int32_t flag, apr_fileperms_t perm,
<a name="l01090"></a>01090                  apr_pool_t *pool);
<a name="l01091"></a>01091 
<a name="l01092"></a>01092 <span class="comment"></span>
<a name="l01093"></a>01093 <span class="comment">/** Wrapper for apr_file_close(). */</span>
<a name="l01094"></a>01094 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01095"></a>01095 <a class="code" href="svn__io_8h.html#c53b59ed0d20666286dcc001f1aed43c" title="Wrapper for apr_file_close().">svn_io_file_close</a>(apr_file_t *file, apr_pool_t *pool);
<a name="l01096"></a>01096 
<a name="l01097"></a>01097 <span class="comment"></span>
<a name="l01098"></a>01098 <span class="comment">/** Wrapper for apr_file_getc(). */</span>
<a name="l01099"></a>01099 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01100"></a>01100 <a class="code" href="svn__io_8h.html#13cf1ae46bf9a45d01db6cf59d787ecd" title="Wrapper for apr_file_getc().">svn_io_file_getc</a>(<span class="keywordtype">char</span> *ch, apr_file_t *file, apr_pool_t *pool);
<a name="l01101"></a>01101 
<a name="l01102"></a>01102 <span class="comment"></span>
<a name="l01103"></a>01103 <span class="comment">/** Wrapper for apr_file_info_get(). */</span>
<a name="l01104"></a>01104 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01105"></a>01105 <a class="code" href="svn__io_8h.html#a9b673694dfebc9fa7018f423b6459c3" title="Wrapper for apr_file_info_get().">svn_io_file_info_get</a>(apr_finfo_t *finfo, apr_int32_t wanted,
<a name="l01106"></a>01106                      apr_file_t *file, apr_pool_t *pool);
<a name="l01107"></a>01107 
<a name="l01108"></a>01108 <span class="comment"></span>
<a name="l01109"></a>01109 <span class="comment">/** Wrapper for apr_file_read(). */</span>
<a name="l01110"></a>01110 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01111"></a>01111 <a class="code" href="svn__io_8h.html#783e5b2a7198107666cba41642610919" title="Wrapper for apr_file_read().">svn_io_file_read</a>(apr_file_t *file, <span class="keywordtype">void</span> *buf,
<a name="l01112"></a>01112                  apr_size_t *nbytes, apr_pool_t *pool);
<a name="l01113"></a>01113 
<a name="l01114"></a>01114 <span class="comment"></span>
<a name="l01115"></a>01115 <span class="comment">/** Wrapper for apr_file_read_full(). */</span>
<a name="l01116"></a>01116 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01117"></a>01117 <a class="code" href="svn__io_8h.html#58487bc76681879193a9a067dd37b483" title="Wrapper for apr_file_read_full().">svn_io_file_read_full</a>(apr_file_t *file, <span class="keywordtype">void</span> *buf,
<a name="l01118"></a>01118                       apr_size_t nbytes, apr_size_t *bytes_read,
<a name="l01119"></a>01119                       apr_pool_t *pool);
<a name="l01120"></a>01120 
<a name="l01121"></a>01121 <span class="comment"></span>
<a name="l01122"></a>01122 <span class="comment">/** Wrapper for apr_file_seek(). */</span>
<a name="l01123"></a>01123 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01124"></a>01124 <a class="code" href="svn__io_8h.html#b296b86da8b825399792d38f68e0e914" title="Wrapper for apr_file_seek().">svn_io_file_seek</a>(apr_file_t *file, apr_seek_where_t where,
<a name="l01125"></a>01125                  apr_off_t *offset, apr_pool_t *pool);
<a name="l01126"></a>01126 
<a name="l01127"></a>01127 <span class="comment"></span>
<a name="l01128"></a>01128 <span class="comment">/** Wrapper for apr_file_write(). */</span>
<a name="l01129"></a>01129 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01130"></a>01130 <a class="code" href="svn__io_8h.html#5a78c172c69437a05e32d3dff6f152d0" title="Wrapper for apr_file_write().">svn_io_file_write</a>(apr_file_t *file, const <span class="keywordtype">void</span> *buf,
<a name="l01131"></a>01131                   apr_size_t *nbytes, apr_pool_t *pool);
<a name="l01132"></a>01132 
<a name="l01133"></a>01133 <span class="comment"></span>
<a name="l01134"></a>01134 <span class="comment">/** Wrapper for apr_file_write_full(). */</span>
<a name="l01135"></a>01135 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01136"></a>01136 <a class="code" href="svn__io_8h.html#6789d12c70d0a2fefb539830183ee773" title="Wrapper for apr_file_write_full().">svn_io_file_write_full</a>(apr_file_t *file, const <span class="keywordtype">void</span> *buf,
<a name="l01137"></a>01137                        apr_size_t nbytes, apr_size_t *bytes_written,
<a name="l01138"></a>01138                        apr_pool_t *pool);
<a name="l01139"></a>01139 
<a name="l01140"></a>01140 <span class="comment"></span>
<a name="l01141"></a>01141 <span class="comment">/** Wrapper for apr_stat().  @a fname is utf8-encoded. */</span>
<a name="l01142"></a>01142 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01143"></a>01143 <a class="code" href="svn__io_8h.html#8b3c8bc2bdde3a1a28eb402432e410e0" title="Wrapper for apr_stat().">svn_io_stat</a>(apr_finfo_t *finfo, const <span class="keywordtype">char</span> *fname,
<a name="l01144"></a>01144             apr_int32_t wanted, apr_pool_t *pool);
<a name="l01145"></a>01145 
<a name="l01146"></a>01146 <span class="comment"></span>
<a name="l01147"></a>01147 <span class="comment">/** Wrapper for apr_file_rename().  @a from_path and @a to_path are</span>
<a name="l01148"></a>01148 <span class="comment"> * utf8-encoded.</span>
<a name="l01149"></a>01149 <span class="comment"> */</span>
<a name="l01150"></a>01150 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01151"></a>01151 <a class="code" href="svn__io_8h.html#958d10520c3e99ddcbbf333eed40d86f" title="Wrapper for apr_file_rename().">svn_io_file_rename</a>(const <span class="keywordtype">char</span> *from_path, const <span class="keywordtype">char</span> *to_path,
<a name="l01152"></a>01152                    apr_pool_t *pool);
<a name="l01153"></a>01153 
<a name="l01154"></a>01154 <span class="comment"></span>
<a name="l01155"></a>01155 <span class="comment">/** Move the file from @a from_path to @a to_path, even across device</span>
<a name="l01156"></a>01156 <span class="comment"> * boundaries. Overwrite @a to_path if it exists.</span>
<a name="l01157"></a>01157 <span class="comment"> *</span>
<a name="l01158"></a>01158 <span class="comment"> * @note This function is different from svn_io_file_rename in that the</span>
<a name="l01159"></a>01159 <span class="comment"> * latter fails in the 'across device boundaries' case.</span>
<a name="l01160"></a>01160 <span class="comment"> *</span>
<a name="l01161"></a>01161 <span class="comment"> * @since New in 1.3.</span>
<a name="l01162"></a>01162 <span class="comment"> */</span>
<a name="l01163"></a>01163 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01164"></a>01164 <a class="code" href="svn__io_8h.html#2e4247ed6ed8390f4f7d68a5dea3f0e6" title="Move the file from from_path to to_path, even across device boundaries.">svn_io_file_move</a>(const <span class="keywordtype">char</span> *from_path, const <span class="keywordtype">char</span> *to_path,
<a name="l01165"></a>01165                  apr_pool_t *pool);
<a name="l01166"></a>01166 
<a name="l01167"></a>01167 <span class="comment"></span>
<a name="l01168"></a>01168 <span class="comment">/** Wrapper for apr_dir_make().  @a path is utf8-encoded. */</span>
<a name="l01169"></a>01169 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01170"></a>01170 <a class="code" href="svn__io_8h.html#108e7a96396aab7cacbf1e1c3ed5221f" title="Wrapper for apr_dir_make().">svn_io_dir_make</a>(const <span class="keywordtype">char</span> *path, apr_fileperms_t perm, apr_pool_t *pool);
<a name="l01171"></a>01171 <span class="comment"></span>
<a name="l01172"></a>01172 <span class="comment">/** Same as svn_io_dir_make(), but sets the hidden attribute on the</span>
<a name="l01173"></a>01173 <span class="comment">    directory on systems that support it. */</span>
<a name="l01174"></a>01174 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01175"></a>01175 <a class="code" href="svn__io_8h.html#052b330df7626a534833e6329b33d753" title="Same as svn_io_dir_make(), but sets the hidden attribute on the directory on systems...">svn_io_dir_make_hidden</a>(const <span class="keywordtype">char</span> *path, apr_fileperms_t perm,
<a name="l01176"></a>01176                        apr_pool_t *pool);
<a name="l01177"></a>01177 <span class="comment"></span>
<a name="l01178"></a>01178 <span class="comment">/**</span>
<a name="l01179"></a>01179 <span class="comment"> * Same as svn_io_dir_make(), but attempts to set the sgid on the</span>
<a name="l01180"></a>01180 <span class="comment"> * directory on systems that support it.  Does not return an error if</span>
<a name="l01181"></a>01181 <span class="comment"> * the attempt to set the sgid bit fails.  On Unix filesystems,</span>
<a name="l01182"></a>01182 <span class="comment"> * setting the sgid bit on a directory ensures that files and</span>
<a name="l01183"></a>01183 <span class="comment"> * subdirectories created within inherit group ownership from the</span>
<a name="l01184"></a>01184 <span class="comment"> * parent instead of from the primary gid.</span>
<a name="l01185"></a>01185 <span class="comment"> *</span>
<a name="l01186"></a>01186 <span class="comment"> * @since New in 1.1.</span>
<a name="l01187"></a>01187 <span class="comment"> */</span>
<a name="l01188"></a>01188 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01189"></a>01189 <a class="code" href="svn__io_8h.html#51baaf892b96c9893bbae4fa5e747495" title="Same as svn_io_dir_make(), but attempts to set the sgid on the directory on systems...">svn_io_dir_make_sgid</a>(const <span class="keywordtype">char</span> *path, apr_fileperms_t perm,
<a name="l01190"></a>01190                      apr_pool_t *pool);
<a name="l01191"></a>01191 <span class="comment"></span>
<a name="l01192"></a>01192 <span class="comment">/** Wrapper for apr_dir_open().  @a dirname is utf8-encoded. */</span>
<a name="l01193"></a>01193 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01194"></a>01194 <a class="code" href="svn__io_8h.html#946da2aa39f21a0f6099d2984620b2ff" title="Wrapper for apr_dir_open().">svn_io_dir_open</a>(apr_dir_t **new_dir, const <span class="keywordtype">char</span> *dirname, apr_pool_t *pool);
<a name="l01195"></a>01195 
<a name="l01196"></a>01196 <span class="comment"></span>
<a name="l01197"></a>01197 <span class="comment">/** Wrapper for apr_dir_remove().  @a dirname is utf8-encoded.</span>
<a name="l01198"></a>01198 <span class="comment"> * @note This function has this name to avoid confusion with</span>
<a name="l01199"></a>01199 <span class="comment"> * svn_io_remove_dir2(), which is recursive.</span>
<a name="l01200"></a>01200 <span class="comment"> */</span>
<a name="l01201"></a>01201 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01202"></a>01202 <a class="code" href="svn__io_8h.html#09827e5b0404fd70abc39a2193aecb26" title="Wrapper for apr_dir_remove().">svn_io_dir_remove_nonrecursive</a>(const <span class="keywordtype">char</span> *dirname, apr_pool_t *pool);
<a name="l01203"></a>01203 
<a name="l01204"></a>01204 <span class="comment"></span>
<a name="l01205"></a>01205 <span class="comment">/** Wrapper for apr_dir_read().  Ensures that @a finfo-&gt;name is</span>
<a name="l01206"></a>01206 <span class="comment"> * utf8-encoded, which means allocating @a finfo-&gt;name in @a pool,</span>
<a name="l01207"></a>01207 <span class="comment"> * which may or may not be the same as @a finfo's pool.  Use @a pool</span>
<a name="l01208"></a>01208 <span class="comment"> * for error allocation as well.</span>
<a name="l01209"></a>01209 <span class="comment"> */</span>
<a name="l01210"></a>01210 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01211"></a>01211 <a class="code" href="svn__io_8h.html#83669c6c77f141089dcc20ef80453d4a" title="Wrapper for apr_dir_read().">svn_io_dir_read</a>(apr_finfo_t *finfo,
<a name="l01212"></a>01212                 apr_int32_t wanted,
<a name="l01213"></a>01213                 apr_dir_t *thedir,
<a name="l01214"></a>01214                 apr_pool_t *pool);
<a name="l01215"></a>01215 
<a name="l01216"></a>01216 
<a name="l01217"></a>01217 <span class="comment"></span>
<a name="l01218"></a>01218 <span class="comment">/** Version/format files.</span>
<a name="l01219"></a>01219 <span class="comment"> *</span>
<a name="l01220"></a>01220 <span class="comment"> * @defgroup svn_io_format_files Version/format files</span>
<a name="l01221"></a>01221 <span class="comment"> * @{</span>
<a name="l01222"></a>01222 <span class="comment"> */</span>
<a name="l01223"></a>01223 <span class="comment"></span>
<a name="l01224"></a>01224 <span class="comment">/** Set @a *version to the integer that starts the file at @a path.  If the</span>
<a name="l01225"></a>01225 <span class="comment"> * file does not begin with a series of digits followed by a newline,</span>
<a name="l01226"></a>01226 <span class="comment"> * return the error @c SVN_ERR_BAD_VERSION_FILE_FORMAT.  Use @a pool for</span>
<a name="l01227"></a>01227 <span class="comment"> * all allocations.</span>
<a name="l01228"></a>01228 <span class="comment"> */</span>
<a name="l01229"></a>01229 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01230"></a>01230 <a class="code" href="group__svn__io__format__files.html#g80f0a4330380bafb4cd65e09151f411b" title="Set *version to the integer that starts the file at path.">svn_io_read_version_file</a>(<span class="keywordtype">int</span> *version, const <span class="keywordtype">char</span> *path, apr_pool_t *pool);
<a name="l01231"></a>01231 <span class="comment"></span>
<a name="l01232"></a>01232 <span class="comment">/** Create (or overwrite) the file at @a path with new contents,</span>
<a name="l01233"></a>01233 <span class="comment"> * formatted as a non-negative integer @a version followed by a single</span>
<a name="l01234"></a>01234 <span class="comment"> * newline.  On successful completion the file will be read-only.  Use</span>
<a name="l01235"></a>01235 <span class="comment"> * @a pool for all allocations.</span>
<a name="l01236"></a>01236 <span class="comment"> */</span>
<a name="l01237"></a>01237 <a class="code" href="structsvn__error__t.html" title="Subversion error object.">svn_error_t</a> *
<a name="l01238"></a>01238 <a class="code" href="group__svn__io__format__files.html#g29aa0631f0facde88398ad50d9411aca" title="Create (or overwrite) the file at path with new contents, formatted as a non-negative...">svn_io_write_version_file</a>(const <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> version, apr_pool_t *pool);
<a name="l01239"></a>01239 <span class="comment"></span>
<a name="l01240"></a>01240 <span class="comment">/** @} */</span>
<a name="l01241"></a>01241 
<a name="l01242"></a>01242 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01243"></a>01243 <span class="preprocessor"></span>}
<a name="l01244"></a>01244 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
<a name="l01245"></a>01245 
<a name="l01246"></a>01246 <span class="preprocessor">#endif </span><span class="comment">/* SVN_IO_H */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 24 16:18:25 2008 for Subversion by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
