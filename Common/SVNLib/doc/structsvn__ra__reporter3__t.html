<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Subversion: svn_ra_reporter3_t Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>svn_ra_reporter3_t Struct Reference</h1><!-- doxytag: class="svn_ra_reporter3_t" -->The update Reporter.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="svn__ra_8h-source.html">svn_ra.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsvn__error__t.html">svn_error_t</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6">set_path</a> )(void *report_baton, const char *path, <a class="el" href="svn__types_8h.html#f16427ed53d30f27da225c56552d2a89">svn_revnum_t</a> revision, <a class="el" href="svn__types_8h.html#21dd8b080111fa6fb5d59156299f3a2c">svn_depth_t</a> depth, <a class="el" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024">svn_boolean_t</a> start_empty, const char *lock_token, apr_pool_t *pool)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describe a working copy <em>path</em> as being at a particular <em>revision</em> and having depth <em>depth</em>.  <a href="#38289cca0bc13bdb93c47d1993af2cc6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsvn__error__t.html">svn_error_t</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsvn__ra__reporter3__t.html#df004442ee8b1eec9a8d9be30508fd9c">delete_path</a> )(void *report_baton, const char *path, apr_pool_t *pool)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describing a working copy <em>path</em> as missing.  <a href="#df004442ee8b1eec9a8d9be30508fd9c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsvn__error__t.html">svn_error_t</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsvn__ra__reporter3__t.html#a763e32906df592600814a204ae4f900">link_path</a> )(void *report_baton, const char *path, const char *url, <a class="el" href="svn__types_8h.html#f16427ed53d30f27da225c56552d2a89">svn_revnum_t</a> revision, <a class="el" href="svn__types_8h.html#21dd8b080111fa6fb5d59156299f3a2c">svn_depth_t</a> depth, <a class="el" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024">svn_boolean_t</a> start_empty, const char *lock_token, apr_pool_t *pool)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Like <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a>, but differs in that <em>path</em> in the working copy (relative to the root of the report driver) isn't a reflection of <em>path</em> in the repository (relative to the URL specified when opening the RA layer), but is instead a reflection of a different repository <em>url</em> at <em>revision</em>, and has depth <em>depth</em>.  <a href="#a763e32906df592600814a204ae4f900"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsvn__error__t.html">svn_error_t</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsvn__ra__reporter3__t.html#579a674e2b5daca05e8e98057e4094b0">finish_report</a> )(void *report_baton, apr_pool_t *pool)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">WC calls this when the state report is finished; any directories or files not explicitly `set' are assumed to be at the baseline revision originally passed into do_update().  <a href="#579a674e2b5daca05e8e98057e4094b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsvn__error__t.html">svn_error_t</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsvn__ra__reporter3__t.html#934976598105877d3394cd75855943f3">abort_report</a> )(void *report_baton, apr_pool_t *pool)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If an error occurs during a report, this routine should cause the filesystem transaction to be aborted &amp; cleaned up.  <a href="#934976598105877d3394cd75855943f3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The update Reporter. 
<p>
A vtable structure which allows a working copy to describe a subset (or possibly all) of its working-copy to an RA layer, for the purposes of an update, switch, status, or diff operation.<p>
Paths for report calls are relative to the target (not the anchor) of the operation. Report calls must be made in depth-first order: parents before children, all children of a parent before any siblings of the parent. The first report call must be a set_path with a <em>path</em> argument of "" and a valid revision. (If the target of the operation is locally deleted or missing, use the anchor's revision.) If the target of the operation is deleted or switched relative to the anchor, follow up the initial set_path call with a link_path or delete_path call with a <em>path</em> argument of "" to indicate that. In no other case may there be two report descriptions for the same path. If the target of the operation is a locally added file or directory (which previously did not exist), it may be reported as having revision 0 or as having the parent directory's revision.<p>
<dl class="since" compact><dt><b>Since:</b></dt><dd>New in 1.5. </dd></dl>

<p>Definition at line <a class="el" href="svn__ra_8h-source.html#l00271">271</a> of file <a class="el" href="svn__ra_8h-source.html">svn_ra.h</a>.</p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="38289cca0bc13bdb93c47d1993af2cc6"></a><!-- doxytag: member="svn_ra_reporter3_t::set_path" ref="38289cca0bc13bdb93c47d1993af2cc6" args=")(void *report_baton, const char *path, svn_revnum_t revision, svn_depth_t depth, svn_boolean_t start_empty, const char *lock_token, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsvn__error__t.html">svn_error_t</a>*(* <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6">svn_ra_reporter3_t::set_path</a>)(void *report_baton, const char *path, <a class="el" href="svn__types_8h.html#f16427ed53d30f27da225c56552d2a89">svn_revnum_t</a> revision, <a class="el" href="svn__types_8h.html#21dd8b080111fa6fb5d59156299f3a2c">svn_depth_t</a> depth, <a class="el" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024">svn_boolean_t</a> start_empty, const char *lock_token, apr_pool_t *pool)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Describe a working copy <em>path</em> as being at a particular <em>revision</em> and having depth <em>depth</em>. 
<p>
<em>revision</em> may be SVN_INVALID_REVNUM if (for example) <em>path</em> represents a locally-added path with no revision number, or <em>depth</em> is <code>svn_depth_exclude</code>.<p>
<em>path</em> may not be underneath a path on which <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a> was previously called with <code>svn_depth_exclude</code> in this report.<p>
If <em>start_empty</em> is set and <em>path</em> is a directory, the implementor should assume the directory has no entries or props.<p>
This will *override* any previous <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a> calls made on parent paths. <em>path</em> is relative to the URL specified in <a class="el" href="svn__ra_8h.html#2543ab564e75c55f801e6ad6dfbf1f7d" title="Open a repository session to repos_URL.">svn_ra_open3()</a>.<p>
If <em>lock_token</em> is non-NULL, it is the lock token for <em>path</em> in the WC.<p>
All temporary allocations are done in <em>pool</em>. 
</div>
</div><p>
<a class="anchor" name="df004442ee8b1eec9a8d9be30508fd9c"></a><!-- doxytag: member="svn_ra_reporter3_t::delete_path" ref="df004442ee8b1eec9a8d9be30508fd9c" args=")(void *report_baton, const char *path, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsvn__error__t.html">svn_error_t</a>*(* <a class="el" href="structsvn__ra__reporter3__t.html#df004442ee8b1eec9a8d9be30508fd9c">svn_ra_reporter3_t::delete_path</a>)(void *report_baton, const char *path, apr_pool_t *pool)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Describing a working copy <em>path</em> as missing. 
<p>
<em>path</em> may not be underneath a path on which <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a> was previously called with <code>svn_depth_exclude</code> in this report.<p>
All temporary allocations are done in <em>pool</em>. 
</div>
</div><p>
<a class="anchor" name="a763e32906df592600814a204ae4f900"></a><!-- doxytag: member="svn_ra_reporter3_t::link_path" ref="a763e32906df592600814a204ae4f900" args=")(void *report_baton, const char *path, const char *url, svn_revnum_t revision, svn_depth_t depth, svn_boolean_t start_empty, const char *lock_token, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsvn__error__t.html">svn_error_t</a>*(* <a class="el" href="structsvn__ra__reporter3__t.html#a763e32906df592600814a204ae4f900">svn_ra_reporter3_t::link_path</a>)(void *report_baton, const char *path, const char *url, <a class="el" href="svn__types_8h.html#f16427ed53d30f27da225c56552d2a89">svn_revnum_t</a> revision, <a class="el" href="svn__types_8h.html#21dd8b080111fa6fb5d59156299f3a2c">svn_depth_t</a> depth, <a class="el" href="svn__types_8h.html#22b35baddc4213c688d1bb12feea1024">svn_boolean_t</a> start_empty, const char *lock_token, apr_pool_t *pool)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Like <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a>, but differs in that <em>path</em> in the working copy (relative to the root of the report driver) isn't a reflection of <em>path</em> in the repository (relative to the URL specified when opening the RA layer), but is instead a reflection of a different repository <em>url</em> at <em>revision</em>, and has depth <em>depth</em>. 
<p>
<em>path</em> may not be underneath a path on which <a class="el" href="structsvn__ra__reporter3__t.html#38289cca0bc13bdb93c47d1993af2cc6" title="Describe a working copy path as being at a particular revision and having depth depth...">set_path()</a> was previously called with <code>svn_depth_exclude</code> in this report.<p>
If <em>start_empty</em> is set and <em>path</em> is a directory, the implementor should assume the directory has no entries or props.<p>
If <em>lock_token</em> is non-NULL, it is the lock token for <em>path</em> in the WC.<p>
All temporary allocations are done in <em>pool</em>. 
</div>
</div><p>
<a class="anchor" name="579a674e2b5daca05e8e98057e4094b0"></a><!-- doxytag: member="svn_ra_reporter3_t::finish_report" ref="579a674e2b5daca05e8e98057e4094b0" args=")(void *report_baton, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsvn__error__t.html">svn_error_t</a>*(* <a class="el" href="structsvn__ra__reporter3__t.html#579a674e2b5daca05e8e98057e4094b0">svn_ra_reporter3_t::finish_report</a>)(void *report_baton, apr_pool_t *pool)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
WC calls this when the state report is finished; any directories or files not explicitly `set' are assumed to be at the baseline revision originally passed into do_update(). 
<p>
No other reporting functions, including abort_report, should be called after calling this function. 
</div>
</div><p>
<a class="anchor" name="934976598105877d3394cd75855943f3"></a><!-- doxytag: member="svn_ra_reporter3_t::abort_report" ref="934976598105877d3394cd75855943f3" args=")(void *report_baton, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsvn__error__t.html">svn_error_t</a>*(* <a class="el" href="structsvn__ra__reporter3__t.html#934976598105877d3394cd75855943f3">svn_ra_reporter3_t::abort_report</a>)(void *report_baton, apr_pool_t *pool)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If an error occurs during a report, this routine should cause the filesystem transaction to be aborted &amp; cleaned up. 
<p>
No other reporting functions should be called after calling this function. 
</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="svn__ra_8h-source.html">svn_ra.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 24 16:18:30 2008 for Subversion by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
